webpackJsonp([1],{"+0bE":function(t,e){},"+2bG":function(t,e){},"+7+r":function(t,e){},"1EBH":function(t,e){},"1ymB":function(t,e){},"3G/W":function(t,e){},"3VbM":function(t,e){},"5Kcd":function(t,e){},"5xti":function(t,e){},"6otp":function(t,e){},"7X4k":function(t,e){},"8BRe":function(t,e){},Cyke:function(t,e){},Edl9:function(t,e){},FhoZ:function(t,e,s){"use strict";(function(e){const i=s("o/zv");t.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{"/api":{target:"http://wxsell.nat200.top",changeOrigin:!0,pathRewrite:{"^/api":""}}},host:"localhost",port:8080,autoOpenBrowser:!1,errorOverlay:!0,notifyOnErrors:!0,poll:!1,devtool:"cheap-module-eval-source-map",cacheBusting:!0,cssSourceMap:!0,sellerUrl:"http://wxsell.nat200.top"},build:{index:i.resolve(e,"../dist/index.html"),assetsRoot:i.resolve(e,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"./",productionSourceMap:!0,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production"}).npm_config_report,sellerUrl:"http://wxsell.nat200.top"}}}).call(e,"/")},GO3u:function(t,e){},Gi7y:function(t,e){},GtaM:function(t,e){},H2tV:function(t,e){},IPLe:function(t,e){},IQIM:function(t,e){},MSpS:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a=s("mtWM"),o=s.n(a),l=s("fO40"),n=s.n(l),r=s("FhoZ");r=r.build;var c={data:function(){return{headImg:"",token:"",nickname:"",schoolName:"",schoolNo:"",arr:""}},created:function(){this.headImg=this.getCookie("headImg"),this.schoolNo=this.getCookie("schoolNo"),this.getSchool(),console.log(this.$route.name)},methods:{getSchool:function(){var t=this;o.a.get(r.sellerUrl+"/sell/seller/school/list?token="+this.token).then(function(e){console.log(e);for(var s=0;s<e.data.data.length;s++)e.data.data[s].schoolNo===t.schoolNo&&(t.schoolName=e.data.data[s].schoolName)}).catch(function(t){console.log(t)})},out:function(){this.token=this.getCookie("token"),o.a.get(r.sellerUrl+"/sell/seller/logout?token="+this.token).then(function(t){console.log(t),"成功"===t.data.msg&&(n.a.toast("登出成功",{duration:2e3}),window.location.href=r.sellerUrl+"/sellerInterface/#/authorize")}).catch(function(t){console.log(t)})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home-header"}},[s("div",{staticClass:"weui-cell",staticStyle:{"background-color":"#fff"}},[s("div",{staticClass:"weui-cell__hd"},[s("router-link",{staticStyle:{display:"inline","font-size":"14px","line-height":"14px"},attrs:{to:"home"}},[t._v("主页")]),t._v(" "),s("img",{staticStyle:{width:"20px","margin-right":"5px","margin-left":"5px"},attrs:{src:this.headImg,alt:""}})],1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("p",{staticStyle:{display:"inline","font-size":"14px","line-height":"14px"}},[t._v(t._s(this.schoolName))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("div",{attrs:{id:"out"},on:{click:t.out}},[s("span",[t._v("登出")])])])])])},staticRenderFns:[]};var u=s("VU/8")(c,d,!1,function(t){s("NzCf")},null,null).exports,_={name:"App",components:{homeheader:u},created:function(){}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},["login"!=this.$route.name&"register"!=this.$route.name&"authorize"!=this.$route.name?e("homeheader"):this._e(),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=s("VU/8")(_,h,!1,function(t){s("IPLe")},null,null).exports,v=s("/ocq"),g=s("7t+N"),m=s.n(g),f=s("mw3O"),w=s.n(f),C=s("FhoZ");C=C.build;var b={data:function(){return{rank:!1}},created:function(){this.getrank()},methods:{getrank:function(){var t=this;this.token=this.getCookie("token");var e=n.a.loading("加载中");o.a.get(C.sellerUrl+"/sell/token/sellerRank?token="+this.token).then(function(s){console.log(s.data),"1"==s.data.data.rank&&(t.rank=!0),e.hide()}).catch(function(t){console.log(t),e.hide()})}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home-grids"}},[s("div",{staticClass:"weui-grids"},[t.rank?s("router-link",{staticClass:"weui-grid",attrs:{to:"goods"}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-goods homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("商品管理")])]):t._e(),t._v(" "),t.rank?s("router-link",{staticClass:"weui-grid",attrs:{to:{name:"domitory"}}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-domitory homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("寝室管理")])]):t._e(),t._v(" "),s("router-link",{staticClass:"weui-grid",attrs:{to:{name:"order"}}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-order homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("订单管理")])]),t._v(" "),t.rank?s("router-link",{staticClass:"weui-grid",attrs:{to:{name:"statistica"}}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-statistica homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("销售统计")])]):t._e(),t._v(" "),t.rank?s("router-link",{staticClass:"weui-grid",attrs:{to:{name:"templates"}}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-copy homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("模板管理")])]):t._e(),t._v(" "),t.rank?s("router-link",{staticClass:"weui-grid",attrs:{to:"personal"}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-user homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("个人中心")])]):t._e(),t._v(" "),t.rank?s("router-link",{staticClass:"weui-grid",attrs:{to:"payorder"}},[s("div",{staticClass:"weui-grid__icon"},[s("i",{staticClass:"icon-database homeicon"})]),t._v(" "),s("p",{staticClass:"weui-grid__label"},[t._v("支付订单")])]):t._e()],1)])},staticRenderFns:[]};var y={data:function(){return{}},created:function(){},methods:{},components:{homegrids:s("VU/8")(b,k,!1,function(t){s("ZJ4Y")},null,null).exports,homegheader:u}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"home"}},[e("homegrids")],1)},staticRenderFns:[]};var N=s("VU/8")(y,x,!1,function(t){s("h/kE")},null,null).exports,T={data:function(){return{search:"",empty:!0}},props:["data"],methods:{resultshow:function(t){return new String(t.name).indexOf(this.search)>=0},goodsdetail:function(t){this.setCookie("productId",t.id,1),this.$router.push("goodsdetail")}},created:function(){},mounted:function(){var t=m()("#searchBar"),e=m()("#searchResult"),s=m()("#searchText"),i=m()("#searchInput"),a=m()("#searchClear"),o=m()("#searchCancel");m()(function(){function l(){e.hide(),i.val("")}function n(){l(),t.removeClass("weui-search-bar_focusing"),s.show()}s.on("click",function(){t.addClass("weui-search-bar_focusing"),i.focus()}),i.on("blur",function(){this.value.length||n()}).on("input",function(){this.value.length?e.show():e.hide()}),a.on("click",function(){l(),i.focus()}),o.on("click",function(){n(),i.blur()})}),e.hide(),i.val("")}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[s("form",{staticClass:"weui-search-bar__form"},[s("div",{staticClass:"weui-search-bar__box"},[s("i",{staticClass:"weui-icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"输入商品名称",required:""},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.resultshow]}}),t._v(" "),s("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),t._v(" "),t._m(0)]),t._v(" "),s("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[t._v("取消")])]),t._v(" "),s("div",{staticClass:"weui-cells searchbar-result",attrs:{id:"searchResult"}},t._l(t.data,function(e,i){return s("div",{key:i},t._l(e.foods,function(e,i){return s("div",{key:i},[t.resultshow(e)?s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(s){t.goodsdetail(e)}}},[s("div",{staticClass:"weui-cell__bd weui-cell_primary"},[s("p",[t._v(t._s(e.name))])])]):t._e()])}))}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("span",[this._v("搜索")])])}]};var S=s("VU/8")(T,D,!1,function(t){s("SFPg")},null,null).exports,$=s("FhoZ");$=$.build;var E={data:function(){return{goods:[],token:""}},components:{searchgoods:S},methods:{goodslist:function(t){this.setCookie("goodsclass",t,1),this.setCookie("all",!1,1),this.$router.push({name:"goodslist"})},allgoodslist:function(){this.setCookie("all",!0,1),this.$router.push({name:"goodslist"})}},created:function(){var t=this;this.token=this.getCookie("token");var e=n.a.loading("加载中");o.a.get($.sellerUrl+"/sell/seller/product/list?token="+this.token).then(function(s){console.log(s.data),t.goods=s.data.data,e.hide()}).catch(function(t){console.log(t),e.hide()})}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"goods"}},[s("searchgoods",{staticClass:"search",attrs:{data:t.goods}}),t._v(" "),s("div",{staticClass:"weui-cells__title hd"},[t._v("商品管理")]),t._v(" "),s("div",{staticClass:"weui-cells"},[s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"addgoods",params:{goodsclass:t.goods}}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("添加商品")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"goodsclass"}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("商品类目管理")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:t.allgoodslist}},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])],1),t._v(" "),s("div",{staticClass:"weui-cells__title hd"},[t._v("商品类目")]),t._v(" "),s("div",{staticClass:"weui-cells"},t._l(t.goods,function(e,i){return s("div",{key:i,staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.goodslist(i)}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v(t._s(e.name))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])}))],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("全部商品")])])}]};var U=s("VU/8")(E,F,!1,function(t){s("IQIM")},null,null).exports,I=s("FhoZ");I=I.build;var P=0,L=[],M=new FormData,R={data:function(){return{data:{token:this.getCookie("token"),productName:"",productPrice:"",purchasePrice:"",productStock:"",productDescription:"",categoryType:1,file:"",productIcon:""},token:this.getCookie("token"),goodsclass:[]}},created:function(){var t=this;this.token=this.getCookie("token"),o.a.get(I.sellerUrl+"/sell/seller/product/list?token="+this.token).then(function(e){console.log(e.data),t.goodsclass=e.data.data}).catch(function(t){console.log(t)})},methods:{addgoods:function(){var t=n.a.loading("提交中");M.append("token",this.data.token),M.append("productName",this.data.productName),M.append("productPrice",this.data.productPrice),M.append("purchasePrice",this.data.purchasePrice),M.append("productStock",this.data.productStock),M.append("productDescription",this.data.productDescription),M.append("categoryType",this.data.categoryType),o.a.post(I.sellerUrl+"/sell/seller/product/save",M,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e.data),t.hide(),n.a.toast("添加成功",{duration:3e3})}).catch(function(e){console.log(e),t.hide(),n.a.alert("错误")})},handleClickUploadList:function(t){for(var e=t.target,s=document.getElementById("uploadCount");!e.classList.contains("weui-uploader__file")&&e;)e=e.parentNode;if(e){var i=e.getAttribute("style")||"",a=e.getAttribute("data-id");i&&(i=i.match(/url\((.*?)\)/)[1].replace(/"/g,""));var o=n.a.gallery(i,{className:"custom-name",onDelete:function(){n.a.confirm("确定删除该图片？",function(){--P,s.innerHTML=P;for(var t=0,i=L.length;t<i;++t){var l=L[t];if(l.id==a){l.stop();break}}e.remove(),o.hide()})}})}},update:function(t){var e=t.target.files[0];M.append("file",e,e.name)}},mounted:function(){var t=document.getElementById("uploadCount");n.a.uploader("#uploader",{url:"/api/sell/seller/product/save?token=6bcafe2e-61e6-4400-b312-2b9a846f4bf3",auto:!1,type:"file",fileVal:"fileVal",compress:{width:1600,height:1600,quality:.8},onBeforeQueued:function(e){return["image/jpg","image/jpeg","image/png","image/gif"].indexOf(this.type)<0?(n.a.alert("请上传图片"),!1):this.size>10485760?(n.a.alert("请上传不超过10M的图片"),!1):e.length>5?(n.a.alert("最多只能上传5张图片，请重新选择"),!1):P+1>5?(n.a.alert("最多只能上传5张图片"),!1):(++P,void(t.innerHTML=P))},onQueued:function(){L.push(this),console.log(this)},onBeforeSend:function(t,e){console.log(this,t,e)},onProgress:function(t){console.log(this,t)},onSuccess:function(t){console.log(this,t)},onError:function(t){console.log(this,t)}})}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"addgoods"}},[s("div",{staticClass:"weui-cells__title"},[t._v("基本信息")]),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form"},[s("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.productName,expression:"data.productName"}],staticClass:"weui-input",attrs:{pattern:"[0-9]*",placeholder:"请输入商品名称"},domProps:{value:t.data.productName},on:{input:function(e){e.target.composing||t.$set(t.data,"productName",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.productPrice,expression:"data.productPrice"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入商品价格"},domProps:{value:t.data.productPrice},on:{input:function(e){e.target.composing||t.$set(t.data,"productPrice",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.purchasePrice,expression:"data.purchasePrice"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入商品价格"},domProps:{value:t.data.purchasePrice},on:{input:function(e){e.target.composing||t.$set(t.data,"purchasePrice",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.productStock,expression:"data.productStock"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入商品库存"},domProps:{value:t.data.productStock},on:{input:function(e){e.target.composing||t.$set(t.data,"productStock",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[t._m(4),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.data.categoryType,expression:"data.categoryType"}],staticClass:"weui-select",attrs:{name:"select2"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.data,"categoryType",e.target.multiple?s:s[0])}}},t._l(t.goodsclass,function(e,i){return s("option",{key:i,domProps:{value:e.type}},[t._v(t._s(e.name))])}))])])]),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("商品描述")]),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form"},[s("div",{staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__bd"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.productDescription,expression:"data.productDescription"}],staticClass:"weui-textarea",attrs:{placeholder:"请输入商品描述",rows:"3"},domProps:{value:t.data.productDescription},on:{input:function(e){e.target.composing||t.$set(t.data,"productDescription",e.target.value)}}}),t._v(" "),t._m(5)])])]),t._v(" "),s("div",{staticClass:"page__bd"},[t._m(6),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form",attrs:{id:"uploader"}},[s("div",{staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__bd"},[s("div",{staticClass:"weui-uploader"},[t._m(7),t._v(" "),s("div",{staticClass:"weui-uploader__bd"},[s("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderFiles"},on:{click:t.handleClickUploadList}}),t._v(" "),s("div",{staticClass:"weui-uploader__input-box"},[s("input",{staticClass:"weui-uploader__input",attrs:{name:"file",id:"uploaderInput",type:"file",accept:"image/*",multiple:""},on:{change:t.update}})])])])])])])]),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:t.addgoods}},[t._v("提交")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("商品名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("商品售价")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("商品进价")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("商品库存")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("商品类目")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-textarea-counter"},[e("span",[this._v("0")]),this._v("/200")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-gallery",attrs:{id:"gallery"}},[e("span",{staticClass:"weui-gallery__img",attrs:{id:"galleryImg"}}),this._v(" "),e("div",{staticClass:"weui-gallery__opr"},[e("a",{staticClass:"weui-gallery__del",attrs:{href:"javascript:"}},[e("i",{staticClass:"weui-icon-delete weui-icon_gallery-delete"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-uploader__hd"},[e("p",{staticClass:"weui-uploader__title"},[this._v("图片上传")]),this._v(" "),e("div",{staticClass:"weui-uploader__info"},[e("span",{attrs:{id:"uploadCount"}},[this._v("0")]),this._v("/5")])])}]};var V=s("VU/8")(R,j,!1,function(t){s("8BRe")},null,null).exports,A={data:function(){return{search:"",empty:!0}},props:["data"],methods:{resultshow:function(t){return new String(t.name).indexOf(this.search)>=0}},created:function(){},mounted:function(){var t=m()("#searchBar"),e=m()("#searchResult"),s=m()("#searchText"),i=m()("#searchInput"),a=m()("#searchClear"),o=m()("#searchCancel");m()(function(){function l(){e.hide(),i.val("")}function n(){l(),t.removeClass("weui-search-bar_focusing"),s.show()}s.on("click",function(){t.addClass("weui-search-bar_focusing"),i.focus()}),i.on("blur",function(){this.value.length||n()}).on("input",function(){this.value.length?e.show():e.hide()}),a.on("click",function(){l(),i.focus()}),o.on("click",function(){n(),i.blur()})}),e.hide(),i.val("")}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[s("form",{staticClass:"weui-search-bar__form"},[s("div",{staticClass:"weui-search-bar__box"},[s("i",{staticClass:"weui-icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.resultshow]}}),t._v(" "),s("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),t._v(" "),t._m(0)]),t._v(" "),s("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[t._v("取消")])]),t._v(" "),s("div",{staticClass:"weui-cells searchbar-result",attrs:{id:"searchResult"}},t._l(t.data,function(e,i){return s("div",{key:i},t._l(e.foods,function(e,i){return s("div",{key:i},[t.resultshow(e)?s("div",{staticClass:"weui-cell weui-cell_access"},[s("div",{staticClass:"weui-cell__bd weui-cell_primary"},[s("p",[t._v(t._s(e.name))])])]):t._e()])}))}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("span",[this._v("搜索")])])}]};var Z=s("VU/8")(A,H,!1,function(t){s("j5oB")},null,null).exports,Q=s("FhoZ");Q=Q.build;var O={data:function(){return{token:""}},props:["dispatchlist"],created:function(){this.token=this.getCookie("token")},methods:{confirm:function(t){o.a.get(Q.sellerUrl+"/sell/seller/dispatch/finish?token="+this.token+"&groupNo="+t.groupNo).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},cancel:function(t){o.a.get(Q.sellerUrl+"/sell/seller/dispatch/cancel?token="+this.token+"&groupNo="+t.groupNo).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},detail:function(t){this.setCookie("groupNo",t.groupNo,1),this.$router.push({name:"dispatchdetail"})}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dispatchlist"}},t._l(t.dispatchlist,function(e,i){return s("div",{key:i,staticClass:"weui-panel__bd",on:{click:function(s){t.detail(e)}}},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.groupNo))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(e.userName)+" "+t._s(e.userPhone))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("时间:"+t._s(t.getLocalTime(e.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft"},[s("p",{staticClass:"weui-media-box__title"},[t._v(t._s(e.dispatchAmount)+"￥")])])])])}))},staticRenderFns:[]};var B=s("VU/8")(O,G,!1,function(t){s("5Kcd")},null,null).exports,z=s("FhoZ");z=z.build;var Y={data:function(){return{token:"",items:""}},props:["replenishlist"],created:function(){this.token=this.getCookie("token")},methods:{orderstatus:function(t){return"1"==t?"已生成配送单":"待生成配送单"},confirm:function(t){this.items="";for(var e=0;e<t.replenishDetailList.length;e++)this.items="[{replenishId:"+t.replenishDetailList[e].replenishId+",productId:"+t.replenishDetailList[e].productId+",productQuantity:"+t.replenishDetailList[e].productQuantity+"}]";console.log(this.items),o.a.post(z.sellerUrl+"/sell/seller/replenish/finish",{items:this.items,token:this.token},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},cancel:function(t){console.log(t.replenishId),o.a.get(z.sellerUrl+"/sell/seller/replenish/cancel?replenishId="+t.replenishId).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},detail:function(t){this.setCookie("replenishId",t.replenishId,1),this.$router.push({name:"replenishdetail"})}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"replenishlist"}},[t._l(t.replenishlist,function(e,i){return"0"==e.replenishStatus?s("div",{key:i,staticClass:"weui-panel__bd",on:{click:function(s){t.detail(e)}}},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.groupNo))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(e.userName)+" "+t._s(e.userPhone))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("时间:"+t._s(t.getLocalTime(e.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft fttext"},[s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(t.orderstatus(e.replenishStatus)))]),t._v(" "),s("p",{staticClass:"weui-media-box__title"},[t._v(t._s(e.replenishAmount)+"￥")])])])]):t._e()}),t._v(" "),t._l(t.replenishlist,function(e,i){return"1"==e.replenishStatus?s("div",{key:i,staticClass:"weui-panel__bd",on:{click:function(s){t.detail(e)}}},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.groupNo))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(e.userName)+" "+t._s(e.userPhone))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("时间:"+t._s(t.getLocalTime(e.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft fttext"},[s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(t.orderstatus(e.replenishStatus)))]),t._v(" "),s("p",{staticClass:"weui-media-box__title"},[t._v(t._s(e.replenishAmount)+"￥")])])])]):t._e()})],2)},staticRenderFns:[]};var W=s("VU/8")(Y,q,!1,function(t){s("yeEp")},null,null).exports,K=s("FhoZ");K=K.build;var X={components:{replenishlist:W,dispatchlist:B,searchorder:Z},data:function(){return{token:"",listdata:[],replenishlistshow:!0,dispatchlistshow:!1,replenishpage:"1",dispatchpage:"1"}},created:function(){this.token=this.getCookie("token"),this.replenishlist()},mounted:function(){m()(function(){m()(".weui-tabbar__item").on("click",function(){m()(this).addClass("weui-bar__item_on").siblings(".weui-bar__item_on").removeClass("weui-bar__item_on")})})},methods:{dispatchlist:function(){var t=this,e=n.a.loading("加载中");o.a.get(K.sellerUrl+"/sell/seller/dispatch/list?token="+this.token+"&page="+this.dispatchpage).then(function(s){console.log(s),t.listdata=s.data.data.list,0==t.listdata.length&&n.a.alert("无更多数据"),e.hide(),n.a.toast("加载成功",{duration:1e3})}).catch(function(t){console.log(t),e.hide(),n.a.toast("失败!!!",{duration:1e3})}),this.replenishlistshow=!1,this.dispatchlistshow=!0},replenishlist:function(){var t=this,e=n.a.loading("加载中");o.a.get(K.sellerUrl+"/sell/seller/replenish/list?token="+this.token+"&page="+this.replenishpage).then(function(s){console.log(s),t.listdata=s.data.data.list,0==t.listdata.length&&n.a.alert("无更多数据"),e.hide(),n.a.toast("加载成功",{duration:1e3})}).catch(function(t){console.log(t),e.hide(),n.a.toast("失败!!!",{duration:1e3})}),this.replenishlistshow=!0,this.dispatchlistshow=!1},nextpage:function(){this.replenishlistshow&&(this.replenishpage++,this.replenishlist()),this.dispatchlistshow&&(this.dispatchpage++,this.dispatchlist())},backpage:function(){this.replenishlistshow&&(this.replenishpage--,this.replenishlist()),this.dispatchlistshow&&(this.dispatchpage--,this.dispatchlist())}}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"order"}},[s("div",{staticClass:"page__bd",staticStyle:{height:"100%"}},[s("div",{staticClass:"weui-tab"},[s("div",{staticClass:"weui-navbar"},[s("a",{staticClass:"weui-tabbar__item weui-bar__item_on",attrs:{href:"javascript:;"},on:{click:t.replenishlist}},[s("i",{staticClass:"icon-truck ordericon"}),t._v(" "),s("p",{staticClass:"weui-tabbar__label"},[t._v("补货订单")])]),t._v(" "),s("a",{staticClass:"weui-tabbar__item",on:{click:t.dispatchlist}},[s("i",{staticClass:"icon-dropbox ordericon"}),t._v(" "),s("p",{staticClass:"weui-tabbar__label"},[t._v("配送订单")])])]),t._v(" "),s("div",{staticClass:"weui-tab__panel"})])]),t._v(" "),t.replenishlistshow?s("replenishlist",{attrs:{replenishlist:t.listdata}}):t._e(),t._v(" "),t.dispatchlistshow?s("dispatchlist",{attrs:{dispatchlist:t.listdata}}):t._e(),t._v(" "),s("div",{staticClass:"page"},[s("button",{staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.backpage}},[t._v("上一页")]),t._v(" "),t.replenishlistshow?s("select",{directives:[{name:"model",rawName:"v-model",value:t.replenishpage,expression:"replenishpage"}],staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.replenishlist,change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.replenishpage=e.target.multiple?s:s[0]}}},t._l(100,function(e,i){return s("option",{key:i,domProps:{value:i}},[t._v(t._s(i))])})):t._e(),t._v(" "),t.dispatchlistshow?s("select",{directives:[{name:"model",rawName:"v-model",value:t.dispatchpage,expression:"dispatchpage"}],staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.dispatchlist,change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.dispatchpage=e.target.multiple?s:s[0]}}},t._l(100,function(e,i){return s("option",{key:i,domProps:{value:i}},[t._v(t._s(i))])})):t._e(),t._v(" "),s("button",{staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.nextpage}},[t._v("下一页")])])],1)},staticRenderFns:[]};var tt=s("VU/8")(X,J,!1,function(t){s("hOBY")},null,null).exports,et=s("FhoZ");et=et.build;var st={data:function(){return{token:"",orderId:"",orderdetail:[]}},created:function(){var t=this;this.token=this.getCookie("token"),this.orderId=this.getCookie("orderId");var e=n.a.loading("加载中");o.a.get(et.sellerUrl+"/sell/seller/order/detail?orderId="+this.orderId).then(function(s){console.log(s.data),t.orderdetail=s.data.data,e.hide()}).catch(function(t){console.log(t),e.hide()})},methods:{orderstatus:function(t){return"0"==t?"未支付订单":"1"==t?"已支付订单":void 0}}},it={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"orderdetail"}},[s("div",{staticClass:"weui-panel__hd hd"},[t._v("订单信息")]),t._v(" "),s("div",{staticClass:"weui-form-preview"},[s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("寝室号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.orderdetail.groupNo))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("金额")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.orderdetail.orderAmount))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.getLocalTime(t.orderdetail.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单状态")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.orderstatus(t.orderdetail.payStatus)))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单编号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.orderdetail.orderId))])])])]),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"weui-cells"},t._l(t.orderdetail.orderDetailList,function(e,i){return s("a",{key:i,staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__hd"},[s("img",{staticStyle:{width:"20px","margin-right":"5px",display:"block"},attrs:{src:e.productIcon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v(t._s(e.productName))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v("x"+t._s(e.productQuantity))])])}))])},staticRenderFns:[]};var at=s("VU/8")(st,it,!1,function(t){s("PKze")},null,null).exports,ot=s("FhoZ");ot=ot.build;var lt={data:function(){return{token:"",groupNo:"",dispatchdetail:""}},created:function(){var t=this;this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo");var e=n.a.loading("加载中");o.a.get(ot.sellerUrl+"/sell/seller/dispatch/detail?groupNo="+this.groupNo+"&token="+this.token).then(function(s){console.log(s.data),t.dispatchdetail=s.data.data,e.hide()}).catch(function(t){console.log(t),e.hide()})},methods:{orderstatus:function(t){return"0"==t?"已配送":"待配送"},finish:function(){var t=this;o.a.get(ot.sellerUrl+"/sell/seller/dispatch/finish?groupNo="+this.groupNo+"&token="+this.token).then(function(e){console.log(e.data),"成功"===e.data.msg?(n.a.toast("完成配送!",{duration:3e3}),t.$router.push("order")):n.a.alert(""+e.data.msg)}).catch(function(t){console.log(t),n.a.alert("完成配送失败!")})},cancelorder:function(){var t=this;o.a.get(ot.sellerUrl+"/sell/seller/dispatch/cancel?groupNo="+this.groupNo+"&token="+this.token).then(function(e){console.log(e.data),"成功"===e.data.msg?(n.a.toast("取消成功!",{duration:3e3}),t.$router.push("order")):n.a.alert(""+e.data.msg)}).catch(function(t){console.log(t),n.a.alert("取消失败!")})}}},nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dispatchdetail"}},[s("div",{staticClass:"weui-panel__hd hd"},[t._v("订单信息")]),t._v(" "),s("div",{staticClass:"weui-form-preview"},[s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("寝室号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.dispatchdetail.groupNo))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("金额")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.dispatchdetail.dispatchAmount))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("创建时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.getLocalTime(t.dispatchdetail.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单状态")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.orderstatus(t.dispatchdetail.dispatchKind)))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单编号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.dispatchdetail.dispatchId))])])])]),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"weui-cells"},t._l(t.dispatchdetail.dispatchDetailList,function(e,i){return s("a",{key:i,staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__hd"},[s("img",{staticStyle:{width:"20px","margin-right":"5px",display:"block"},attrs:{src:e.productIcon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v(t._s(e.productName))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v("x"+t._s(e.productQuantity))])])})),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_primary",on:{click:t.finish}},[s("p",[t._v("完成配送")])]),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_warn",on:{click:t.cancelorder}},[t._v("取消")])])},staticRenderFns:[]};var rt=s("VU/8")(lt,nt,!1,function(t){s("bHAi")},null,null).exports,ct={data:function(){return{salesQuantity:""}},props:["food"],created:function(){console.log(this.food)},methods:{addCart:function(t){this.food.count?this.food.count++:i.a.set(this.food,"count",1),this.$emit("add",t.target)},decreaseCart:function(t){this.food.count&&this.food.count--}}},dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"carcontrol"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.food.count>0,expression:"this.food.count > 0"}],staticClass:"cart-decrease",attrs:{transition:"move"},on:{click:this.decreaseCart}},[this._m(0)]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.food.count>0,expression:"this.food.count>0"}],ref:"fff",staticClass:"cart-count"},[this._v(this._s(this.food.count))]),this._v(" "),e("div",{staticClass:"cart-add",on:{click:this.addCart}},[e("i",{staticClass:"icon-plus",staticStyle:{"margin-left":"5px","font-size":"10px",color:"dodgerblue"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"inner"},[e("i",{staticClass:"icon-minus",staticStyle:{"margin-right":"5px","font-size":"10px",color:"dodgerblue"}})])}]};var ut=s("VU/8")(ct,dt,!1,function(t){s("f2SA")},null,null).exports,_t=s("FhoZ");_t=_t.build;var ht={components:{Cartcontrol:ut},data:function(){return{token:"",replenishId:"",replenishdetail:"",data:[],goods:[],listHeight:[]}},created:function(){var t=this;this.token=this.getCookie("token"),this.replenishId=this.getCookie("replenishId");var e=n.a.loading("加载中");o.a.get(_t.sellerUrl+"/sell/seller/replenish/detail?replenishId="+this.replenishId).then(function(s){console.log(s.data),t.replenishdetail=s.data.data,e.hide()}).catch(function(t){console.log(t),e.hide()})},methods:{decreseQuantity:function(t){this.replenishdetail.replenishDetailList[t].productQuantity--},addQuantity:function(t){this.replenishdetail.replenishDetailList[t].productQuantity++},orderstatus:function(t){return"0"==t?"待生成配送单":"已生成配送单"},goodsdetail:function(t){this.setCookie("productId",t.productId,1),this.$router.push("goodsdetail")},setFoods:function(){this.amount=0;for(var t="[",e=0;e<this.replenishdetail.replenishDetailList.length;e++){t+='{replenishId:"'+this.replenishdetail.replenishDetailList[e].replenishId+'",productId:"'+this.replenishdetail.replenishDetailList[e].productId+'",productQuantity:'+this.replenishdetail.replenishDetailList[e].productQuantity+"},"}t=t.substring(0,t.length-1),t+="]",console.log(t);var s={token:this.token,items:t};return console.log(s),w.a.stringify(s)},createRE:function(){var t=this,e=this.setFoods();console.log(e),o.a.post(_t.sellerUrl+"/sell/seller/replenish/finish",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),"成功"===e.data.msg?(n.a.toast("创建配送单成功!",{duration:3e3}),t.$router.push("order")):n.a.alert(""+e.data.msg)}).catch(function(t){console.log(t),n.a.alert("创建订单失败!")})},cancel:function(){var t=this;o.a.get(_t.sellerUrl+"/sell/seller/replenish/cancel?replenishId="+this.replenishId).then(function(e){console.log(e.data),"成功"===e.data.msg?(n.a.toast("取消成功!",{duration:3e3}),t.$router.push("order")):n.a.alert(""+e.data.msg)}).catch(function(t){console.log(t),n.a.alert("取消失败!")})}}},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"replenishdetail"}},[s("div",{staticClass:"weui-panel__hd "},[t._v("订单信息")]),t._v(" "),s("div",{staticClass:"weui-form-preview"},[s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("寝室号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.replenishdetail.groupNo))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("姓名")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.replenishdetail.userName))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("电话")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.replenishdetail.userPhone))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("金额")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.replenishdetail.replenishAmount))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.getLocalTime(t.replenishdetail.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单状态")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.orderstatus(t.replenishdetail.replenishStatus)))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单编号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.replenishdetail.replenishId))])])])]),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"weui-cells"},t._l(t.replenishdetail.replenishDetailList,function(e,i){return s("a",{key:i,staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__hd",on:{click:function(s){t.goodsdetail(e)}}},[s("img",{staticStyle:{width:"20px","margin-right":"5px",display:"block"},attrs:{src:e.productIcon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-cell__bd",on:{click:function(s){t.goodsdetail(e)}}},[s("p",[t._v(t._s(e.productName))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("span",{on:{click:function(e){t.decreseQuantity(i)}}},[s("i",{staticClass:"icon-minus",staticStyle:{"margin-right":"5px","font-size":"10px",color:"dodgerblue"}})]),t._v(t._s(e.productQuantity)+"\n        "),s("span",{on:{click:function(e){t.addQuantity(i)}}},[s("i",{staticClass:"icon-plus",staticStyle:{"margin-left":"5px","font-size":"10px",color:"dodgerblue"}})])])])})),t._v(" "),0==t.replenishdetail.replenishStatus?s("a",{staticClass:"weui-btn weui-btn_primary",on:{click:t.createRE}},[t._v("生成配送单")]):t._e(),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_warn",on:{click:t.cancel}},[t._v("取消")])])},staticRenderFns:[]};var vt=s("VU/8")(ht,pt,!1,function(t){s("Edl9")},null,null).exports,gt=(m()("#Dialog"),s("FhoZ"));gt=gt.build;var mt={data:function(){return{token:"",goodsclass:[],newgoodsclass:{categoryId:"",categoryName:"",categoryType:""},dialogshow1:!1,dialogshow2:!1,categoryName:"",categoryType:""}},created:function(){this.getgoodsclass()},methods:{showDialog1:function(t){this.newgoodsclass=t,this.dialogshow1=!0},hideDialog1:function(){this.dialogshow1=!1,this.getgoodsclass()},showDialog2:function(){this.dialogshow2=!0},hideDialog2:function(){this.dialogshow2=!1,this.getgoodsclass()},modify:function(){var t=this,e=n.a.loading("提交中");o.a.post(gt.sellerUrl+"/sell/seller/category/save",w.a.stringify({categoryId:this.newgoodsclass.categoryId,categoryName:this.newgoodsclass.categoryName,categoryType:this.newgoodsclass.categoryType}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){console.log(s.data),e.hide(),n.a.toast("修改成功",{duration:3e3}),t.hideDialog1(),t.getgoodsclass()}).catch(function(t){console.log(t),e.hide(),n.a.alert("错误"),this.getgoodsclass()})},add:function(){var t=this,e=n.a.loading("提交中");o.a.post(gt.sellerUrl+"/sell/seller/category/save",w.a.stringify({categoryName:this.categoryName,categoryType:this.categoryType}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){console.log(s.data),e.hide(),n.a.toast("修改成功",{duration:3e3}),t.hideDialog2(),t.getgoodsclass()}).catch(function(t){e.hide(),console.log(t),e.hide(),n.a.alert("错误"),this.getgoodsclass()})},getgoodsclass:function(){var t=this;this.newgoodsclass="",this.categoryName="",this.categoryType="",this.token=this.getCookie("token");var e=n.a.loading("加载中");o.a.get(gt.sellerUrl+"/sell/seller/category/list?token="+this.token).then(function(s){console.log(s.data),t.goodsclass=s.data.data,e.hide()}).catch(function(t){console.log(t),e.hide()})}},mounted:function(){}},ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"goodsclass"}},[s("div",{staticClass:"weui-cell weui-cell_access",on:{click:t.showDialog2}},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("商品类目")]),t._v(" "),s("div",{staticClass:"weui-cells"},t._l(t.goodsclass,function(e,i){return s("div",{key:i,staticClass:"weui-cell weui-cell_access",on:{click:function(s){t.showDialog1(e)}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v(t._s(e.categoryName))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v("编号:"+t._s(e.categoryType)+"\n      ")])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogshow1,expression:"dialogshow1"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[s("div",{staticClass:"weui-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newgoodsclass.categoryName,expression:"newgoodsclass.categoryName"}],staticClass:"weui-input",attrs:{placeholder:"请输入修改信息"},domProps:{value:t.newgoodsclass.categoryName},on:{input:function(e){e.target.composing||t.$set(t.newgoodsclass,"categoryName",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.modify}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hideDialog1}},[t._v("取消")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogshow2,expression:"dialogshow2"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[s("div",{staticClass:"weui-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],staticClass:"weui-input",attrs:{placeholder:"请输入商品类目名称"},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"weui-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryType,expression:"categoryType"}],staticClass:"weui-input",attrs:{placeholder:"请输入商品类目编号"},domProps:{value:t.categoryType},on:{input:function(e){e.target.composing||(t.categoryType=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.add}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hideDialog2}},[t._v("取消")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("添加商品类目")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("修改商品类目")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("添加商品类目")])])}]};var wt=s("VU/8")(mt,ft,!1,function(t){s("Cyke")},null,null).exports,Ct=s("FhoZ");Ct=Ct.build;var bt={data:function(){return{goodslist:[],productId:123456,all:!1,token:""}},created:function(){var t=this;"false"==this.getCookie("all")?this.all=!1:this.all=!0,this.token=this.getCookie("token");var e=n.a.loading("加载中");o.a.get(Ct.sellerUrl+"/sell/seller/product/list?token="+this.token).then(function(s){console.log(s.data),t.all?t.goodslist=s.data.data:t.goodslist=s.data.data[t.getCookie("goodsclass")],e.hide()}).catch(function(t){console.log(t),e.hide()})},methods:{goodsdetail:function(t){this.setCookie("productId",t.id,1),this.$router.push("goodsdetail")},status:function(t){return 0==t?"在售":"下架"}}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"goodslist"}},[s("div",{staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__hd"},[t._v("商品列表")]),t._v(" "),t.all?s("div",t._l(t.goodslist,function(e,i){return s("div",{key:i,staticClass:"weui-panel__bd"},t._l(e.foods,function(e,i){return s("div",{key:i,staticClass:"weui-media-box weui-media-box_appmsg",attrs:{to:{name:"goodsdetail",params:{goodsdetail:e}}},on:{click:function(s){t.goodsdetail(e)}}},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.icon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("售价："+t._s(e.price)+"元")]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("进价："+t._s(e.purchasePrice)+"元")])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft"},[s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(t.status(e.status))+" 库存:"+t._s(e.stock))])])])}))})):s("div",t._l(t.goodslist.foods,function(e,i){return s("div",{key:i,staticClass:"weui-panel__bd",on:{click:function(s){t.goodsdetail(e)}}},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.icon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("售价："+t._s(e.price)+"元")]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("进价："+t._s(e.purchasePrice)+"元")])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft"},[s("p",{staticClass:"weui-media-box__desc"},[t._v(" "+t._s(t.status(e.status))+" 库存:"+t._s(e.stock))])])])])}))])])},staticRenderFns:[]};var yt=s("VU/8")(bt,kt,!1,function(t){s("+0bE")},null,null).exports,xt=s("FhoZ");xt=xt.build;var Nt={data:function(){return{goodsclass:[],goodsdetail:[],btnshow:!0,data:{},status:"",dialogshow:!1,goodsclassdialogshow:!1,textinput:"",index:"",token:this.getCookie("token")}},created:function(){var t=this;this.getgoodsdetail(),o.a.get(xt.sellerUrl+"/sell/seller/product/list?token="+this.token).then(function(e){console.log(e.data),t.goodsclass=e.data.data}).catch(function(t){console.log(t)})},mounted:function(){},methods:{modifygoods:function(){var t=this,e=new FormData,s=n.a.loading("提交中");1==this.index&&(this.goodsdetail.name=this.textinput),2==this.index&&(this.goodsdetail.price=this.textinput),3==this.index&&(this.goodsdetail.purchasePrice=this.textinput),4==this.index&&(this.goodsdetail.stock=this.textinput),5==this.index&&(this.goodsdetail.description=this.textinput),e.append("token",this.getCookie("token")),e.append("productId",this.goodsdetail.id),e.append("productName",this.goodsdetail.name),e.append("productPrice",this.goodsdetail.price),e.append("purchasePrice",this.goodsdetail.purchasePrice),e.append("productStock",this.goodsdetail.stock),e.append("productDescription",this.goodsdetail.description),e.append("categoryType",this.goodsdetail.categoryType),e.append("productIcon",this.goodsdetail.icon),console.log(e),o.a.post(xt.sellerUrl+"/sell/seller/product/save",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e.data),s.hide(),n.a.toast("修改成功",{duration:1e3}),t.hidedialog(),t.getgoodsdetail()}).catch(function(t){console.log(t),s.hide(),this.hidedialog(),n.a.topTips("修改失败!"),this.getgoodsdetail()})},onsale:function(){var t=this;o.a.get(xt.sellerUrl+"/sell/seller/product/on_sale?token="+this.getCookie("token")+"&productId="+this.getCookie("productId")).then(function(e){console.log(e.data),t.getgoodsdetail()}).catch(function(t){console.log(t)})},offsale:function(){var t=this;o.a.get(xt.sellerUrl+"/sell/seller/product/off_sale?token="+this.getCookie("token")+"&productId="+this.getCookie("productId")).then(function(e){console.log(e.data),t.getgoodsdetail()}).catch(function(t){console.log(t)})},getgoodsdetail:function(){var t=this,e=n.a.loading("加载中");o.a.get(xt.sellerUrl+"/sell/seller/product/index?token="+this.getCookie("token")+"&productId="+this.getCookie("productId")).then(function(s){console.log(s.data),t.goodsdetail=s.data.data.foods[0],0==t.goodsdetail.status?(t.status="在售",t.btnshow=!0):(t.status="下架",t.btnshow=!1),e.hide()}).catch(function(t){console.log(t),e.hide()})},showdialog:function(t,e){6==t&&(this.goodsclassdialogshow=!0),this.dialogshow=!0,this.textinput=e,this.index=t},hidedialog:function(){this.dialogshow=!1,this.goodsclassdialogshow=!1}}},Tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"goodsdetail"}},[s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell weui-cell_access"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("img",{staticStyle:{width:"20px","margin-right":"5px",display:"block"},attrs:{src:t.goodsdetail.icon,alt:""}})])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showdialog(1,t.goodsdetail.name)}}},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.goodsdetail.name))])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showdialog(2,t.goodsdetail.price)}}},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.goodsdetail.price)+"元")])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showdialog(3,t.goodsdetail.purchasePrice)}}},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.goodsdetail.purchasePrice)+"元")])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showdialog(4,t.goodsdetail.stock)}}},[t._m(4),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.goodsdetail.stock))])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access"},[t._m(5),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.status))])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showdialog(6,t.goodsdetail.categoryType)}}},[t._m(6),t._v(" "),s("div",{staticClass:"weui-cell__bd"},t._l(t.goodsclass,function(e,i){return t.goodsdetail.categoryType==e.type?s("div",{key:i,staticClass:"weui-cell__ft"},[t._v(t._s(e.name))]):t._e()}))]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showdialog(5,t.goodsdetail.description)}}},[t._m(7),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.goodsdetail.description))])])]),t._v(" "),t.btnshow?s("a",{staticClass:"weui-btn weui-btn_warn",attrs:{href:"javascript:;"},on:{click:t.offsale}},[t._v("下架商品")]):s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:t.onsale}},[t._v("上架商品")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogshow,expression:"dialogshow"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(8),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[s("div",{staticClass:"weui-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.textinput,expression:"textinput"}],staticClass:"weui-input",attrs:{placeholder:"请输入修改信息"},domProps:{value:t.textinput},on:{input:function(e){e.target.composing||(t.textinput=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.modifygoods}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hidedialog}},[t._v("取消")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.goodsclassdialogshow,expression:"goodsclassdialogshow"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(9),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.goodsdetail.categoryType,expression:"goodsdetail.categoryType"}],staticClass:"weui-select",attrs:{name:"select2"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.goodsdetail,"categoryType",e.target.multiple?s:s[0])}}},t._l(t.goodsclass,function(e,i){return s("option",{key:i,staticClass:"weui-cell__ft",domProps:{value:e.type}},[t._v(t._s(e.name))])}))]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.modifygoods}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hidedialog}},[t._v("取消")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品图片")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品售价")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品进价")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品库存")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品状态")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("商品类目")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("商品描述")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("修改商品信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("修改商品信息")])])}]};var Dt,St=s("VU/8")(Nt,Tt,!1,function(t){s("MSpS")},null,null).exports,$t=s("bOdI"),Et=s.n($t),Ft=s("FhoZ");Ft=Ft.build;var Ut={data:function(){return{username:"",password:"",id:"",token:"",openid:"",nickname:""}},created:function(){this.openid=this.getQueryOpenid("openid");var t=this.getQueryOpenid("headImgUrl");this.setCookie("headImg",t,1),this.setCookie("openid",this.openid,1)},methods:(Dt={checkLogin:function(){null===this.openid&&(window.location.href="")},login:function(){var t=this,e=n.a.loading("登录中");""===this.username&&n.a.topTips("账号不能为空!"),""===this.password&&n.a.topTips("密码不能为空!"),o.a.post(Ft.sellerUrl+"/sell/seller/login",w.a.stringify({username:this.username,password:this.password,openid:this.openid}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){console.log(s.data),console.log(s.data.data.schoolNo),"成功"===s.data.msg?(t.setCookie("token",s.data.data.token,1),t.setCookie("schoolNo",s.data.data.schoolNo,1),t.setCookie("username",t.username,1),t.setCookie("password",t.password,1),e.hide(),n.a.toast("登录成功",{duration:1e3}),t.$router.push({name:"home",params:{openid:t.openid}})):(e.hide(),""!==t.openid?n.a.topTips("账号或密码错误!"):n.a.topTips("请关闭当前页面重新登录"))}).catch(function(t){console.log(t),e.hide(),n.a.alert("用户名或者密码错误")})},getQueryOpenid:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(e);return null!=s?unescape(s[2]):null}},Et()(Dt,"getQueryOpenid",function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(e);return null!=s?unescape(s[2]):null}),Et()(Dt,"showdialog",function(){this.dialogshow=!0}),Et()(Dt,"hidedialog",function(){this.dialogshow=!1}),Dt)},It={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("div",{staticClass:"weui-cells weui-cells_form"},[s("form",[s("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"weui-input",attrs:{type:"password",pattern:"[0-9]*",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"weui-btn weui-btn_primary",on:{click:t.login}},[t._v("登录")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("用户名")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("密码")])])}]};var Pt=s("VU/8")(Ut,It,!1,function(t){s("lbso")},null,null).exports,Lt=(s("mw3O"),s("FhoZ"));Lt=Lt.build;var Mt={data:function(){return{}},components:{},methods:{},created:function(){window.location.href=Lt.sellerUrl+"/sell/wechat/authorize?returnUrl="+Lt.sellerUrl+"/sellerInterface/#/"}},Rt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"authorize"}})},staticRenderFns:[]};var jt=s("VU/8")(Mt,Rt,!1,function(t){s("ybKA")},null,null).exports,Vt=s("FhoZ");Vt=Vt.build;var At=s("mw3O"),Ht={data:function(){return{username:this.getCookie("username"),list:[],password:"",newpassword:"",oldpassword:"",dialogshow:!1,picshow:!1,token:this.getCookie("token"),pic:Vt.sellerUrl+"/sell/seller/qrcode/createAdmin?token="+this.getCookie("token")}},components:{},methods:{showdialog:function(){this.dialogshow=!0},hidedialog:function(){this.dialogshow=!1},showpic:function(){this.picshow=!0},hidepic:function(){this.picshow=!1},changepassword:function(){var t=this;this.hidedialog();var e=n.a.loading("提交中");o.a.post(Vt.sellerUrl+"/sell/seller/update",At.stringify({token:this.token,passwordOld:this.oldpassword,passwordNew:this.newpassword}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){console.log(s),e.hide(),0==s.data.code?(n.a.toast("修改成功",{duration:3e3}),t.oldpassword="",t.newpassword=""):n.a.alert("修改失败")}).catch(function(t){console.log(t),e.hide(),n.a.alert("修改失败")})},getlist:function(){var t=this,e=n.a.loading("加载中");o.a.get(Vt.sellerUrl+"/sell/seller/list?token="+this.token).then(function(s){console.log(s.data),t.list=s.data.data,e.hide()}).catch(function(t){console.log(t),e.hide()})}},created:function(){this.getlist()}},Zt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"personal"}},[s("div",{staticClass:"weui-cells__title"},[t._v("注册管理员")]),t._v(" "),s("div",{staticClass:"weui-cells",on:{click:t.showpic}},[t._m(0)]),t._v(" "),s("div",{staticClass:"weui-cells__title hd"},[t._v("修改信息")]),t._v(" "),s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell weui-cell_access",on:{click:t.showdialog}},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])]),t._v(" "),s("div",{staticClass:"weui-panel__hd"},[t._v("管理员列表")]),t._v(" "),t._l(t.list,function(e,i){return s("div",{key:i,staticClass:"weui-panel__bd"},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("电话： "+t._s(e.phone))])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft"},[s("p",{staticClass:"weui-media-box__title"},[t._v("等级："+t._s(e.rank))])])])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogshow,expression:"dialogshow"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-dialog__title"},[s("div",{staticClass:"weui-cell"},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpassword,expression:"oldpassword"}],staticClass:"weui-input",attrs:{type:"password",pattern:"[0-9]*",placeholder:"请输入原密码"},domProps:{value:t.oldpassword},on:{input:function(e){e.target.composing||(t.oldpassword=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(4),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newpassword,expression:"newpassword"}],staticClass:"weui-input",attrs:{type:"password",pattern:"[0-9]*",placeholder:"请输入新密码"},domProps:{value:t.newpassword},on:{input:function(e){e.target.composing||(t.newpassword=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.changepassword}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hidedialog}},[t._v("取消")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.picshow,expression:"picshow"}],staticClass:"js_dialog",on:{click:t.hidepic}},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[s("img",{attrs:{src:t.pic}})])])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell weui-cell_access"},[e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("卖家注册二维码")])]),this._v(" "),e("div",{staticClass:"weui-cell__ft"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("修改密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("修改密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("原密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("新密码")])])}]};var Qt=s("VU/8")(Ht,Zt,!1,function(t){s("Gi7y")},null,null).exports,Ot=s("FhoZ");Ot=Ot.build;var Gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"orederlist"}},[s("div",{staticClass:"weui-panel__hd"},[t._v("支付订单列表")]),t._v(" "),s("div",{staticClass:"weui-panel__hd"},[t._v(t._s(t.orderlist.orderListSize)+"条记录\n    "),"1"==t.orderStatus?s("span",[t._v("总金额："+t._s(t.orderlist.orderListAmount)+"￥")]):t._e()]),t._v(" "),t._l(t.orderlist.orderDTOVOList,function(e,i){return s("div",{key:i,staticClass:"weui-panel__bd",on:{click:function(s){t.detail(e)}}},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.groupNo))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("时间:"+t._s(t.getLocalTime(e.updateTime)))])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft"},[s("p",{staticClass:"weui-media-box__title"},[t._v(t._s(e.orderAmount)+"￥")])])])])})],2)},staticRenderFns:[]};var Bt=s("VU/8")({data:function(){return{token:""}},props:["orderlist","orderStatus","count"],created:function(){this.token=this.getCookie("token")},methods:{detail:function(t){this.setCookie("orderId",t.orderId,1),this.$router.push({name:"orderdetail"})}}},Gt,!1,function(t){s("6otp")},null,null).exports,zt=s("FhoZ");zt=zt.build;var Yt={components:{orderlist:Bt},data:function(){return{token:"",listdata:[],orderStatus:"0",payStatus:"1",page:"1",count:0}},created:function(){this.token=this.getCookie("token"),this.orderlist()},mounted:function(){m()(function(){m()(".weui-tabbar__item").on("click",function(){m()(this).addClass("weui-bar__item_on").siblings(".weui-bar__item_on").removeClass("weui-bar__item_on")})})},methods:{orderlist:function(){var t=this,e=n.a.loading("加载中");o.a.get(zt.sellerUrl+"/sell/seller/order/list?token="+this.token+"&page="+this.page+"&size=100&orderStatus="+this.orderStatus+"&payStatus="+this.payStatus).then(function(s){console.log(s),t.count=0,t.listdata=s.data.data,0==t.listdata.orderDTOVOList.length&&n.a.alert("无更多数据"),e.hide(),n.a.toast("加载成功",{duration:1e3})}).catch(function(s){console.log(s),t.count=0,e.hide(),n.a.toast("失败!!!",{duration:1e3})})},neworder:function(){this.page="1",this.orderStatus="0",this.payStatus="0",this.orderlist()},payorder:function(){this.page="1",this.orderStatus="0",this.payStatus="1",this.orderlist()},nextpage:function(){this.page++,this.orderlist()},backpage:function(){this.page--,this.orderlist()}}},qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"payorder"}},[s("div",{staticClass:"page__bd",staticStyle:{height:"100%"}},[s("div",{staticClass:"weui-tab"},[s("div",{staticClass:"weui-navbar"},[s("a",{staticClass:"weui-tabbar__item weui-bar__item_on"},[s("i",{staticClass:"icon-clipboard ordericon",on:{click:t.payorder}}),t._v(" "),s("p",{staticClass:"weui-tabbar__label"},[t._v("已支付订单")])]),t._v(" "),s("a",{staticClass:"weui-tabbar__item"},[s("i",{staticClass:"icon-paste ordericon",on:{click:t.neworder}}),t._v(" "),s("p",{staticClass:"weui-tabbar__label"},[t._v("未支付订单")])])])])]),t._v(" "),s("orderlist",{attrs:{orderlist:t.listdata,orderStatus:t.payStatus,count:t.count}}),t._v(" "),s("div",{staticClass:"page"},[s("button",{staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.backpage}},[t._v("上一页")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.page,expression:"page"}],staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:function(e){t.orderlist()},change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.page=e.target.multiple?s:s[0]}}},t._l(100,function(e,i){return s("option",{key:i,domProps:{value:i}},[t._v(t._s(i))])})),t._v(" "),s("button",{staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.nextpage}},[t._v("下一页")])])],1)},staticRenderFns:[]};var Wt=s("VU/8")(Yt,qt,!1,function(t){s("yPFb")},null,null).exports,Kt={data:function(){return{token:"",goods:[]}},created:function(){this.goods=this.$route.params.goods,console.log(this.goods)},methods:{times:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.upTime=e+"-"+s+"-"+i+" "+a+":"+o+":"+l}}},Xt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"orderdetail"}},[s("div",{staticClass:"weui-panel__hd hd"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"page__bd page__bd_spacing"},[s("div",{staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__bd"},[s("a",{staticClass:"weui-media-box weui-media-box_appmsg",attrs:{href:"javascript:void(0);"}},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:this.goods.icon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(this.goods.name))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("商品介绍:"+t._s(this.goods.description))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("单价:"+t._s(this.goods.price))])]),t._v(" "),s("a",{staticClass:"weui-cell weui-cell_access",attrs:{href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[t._v("x"+t._s(this.goods.quantity)+"\n            ")])])])])])])])},staticRenderFns:[]};var Jt=s("VU/8")(Kt,Xt,!1,function(t){s("pHaT")},null,null).exports,te=s("FhoZ");te=te.build;var ee={data:function(){return Et()({searchtext:!0,cancel:!1,token:"",api:"http://wxsell.nat200.top",name:[],val:""},"token","")},created:function(){this.token=this.getCookie("token")},methods:{searchshow:function(){this.searchtext=!1,this.$refs.searchinput.focus(),this.cancel=!0},searchhide:function(){this.searchtext=!0,this.cancel=!1},searchclear:function(){console.log(this.$refs.searchinput.value=""),this.searchtext=!1,this.cancel=!0,this.$refs.searchinput.focus()},one:function(){var t=this;this.name.splice(0,this.name.length),console.log(this.val),o.a.get(te.sellerUrl+"/sell/seller/group/searchList?token="+this.token+"&groupNo="+this.val).then(function(e){console.log(e),t.name=e.data.data,console.log(t.name)}).catch(function(t){console.log(t)})},cancelSearch:function(){this.val="",this.name.splice(0,this.splice.length)},gotoDor:function(t){console.log(t),this.setCookie("groupId",t.groupId,1),this.$router.push({name:"domitorydetail"})}}},se={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("div",{staticClass:"page__bd search"},[s("div",{staticClass:"weui-search-bar"},[s("form",{staticClass:"weui-search-bar__form"},[s("div",{staticClass:"weui-search-bar__box"},[s("i",{staticClass:"weui-icon-search",on:{click:t.one}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],ref:"searchinput",staticClass:"weui-search-bar__input",attrs:{type:"search",placeholder:"搜索",required:""},domProps:{value:t.val},on:{blur:t.searchhide,input:[function(e){e.target.composing||(t.val=e.target.value)},t.one]}}),t._v(" "),s("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:"},on:{click:t.searchclear}})]),t._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:t.searchtext,expression:"searchtext"}],staticClass:"weui-search-bar__label",on:{click:t.searchshow}},[s("i",{staticClass:"weui-icon-search"}),t._v(" "),s("span",[t._v("搜索")])])]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:t.cancel,expression:"cancel"}],staticClass:"weui-search-bar__cancel-btn cancel",attrs:{href:"javascript:",id:"searchCancel"},on:{click:t.cancelSearch}},[t._v("取消")])])]),t._v(" "),""!==t.val?s("div",[s("div",{staticClass:"weui-panel__hd hd"},[t._v("查询结果")]),t._v(" "),t._l(this.name,function(e,i){return s("div",{key:i,staticClass:"weui-cell weui-cell_access",on:{click:function(s){t.gotoDor(e)}}},[s("div",{staticClass:"weui-cell__bd"},[s("h4",{staticClass:"weui-media-box__title",staticStyle:{"font-size":"14px"}},[t._v(t._s(e.groupNo))])])])})],2):t._e()])},staticRenderFns:[]};var ie=s("VU/8")(ee,se,!1,function(t){s("VRQ4")},null,null).exports,ae=s("FhoZ");ae=ae.build;var oe={data:function(){return{dorData:[],createsTime:[],token:"",domitory:[],groupDistrict:1,groupId:"",schoolNo:0,school:[],page:"1"}},created:function(){var t=this;this.token=this.getCookie("token"),this.schoolNo=this.getCookie("schoolNo"),this.default_dormitory(),o.a.get(ae.sellerUrl+"/sell/seller/school/list?token="+this.token).then(function(e){console.log(e),t.school=e.data.data,console.log(t.school)}).catch(function(t){console.log(t)}),this.getApi()},mounted:function(){},methods:{getApi:function(){var t=this;o.a.get(ae.sellerUrl+"/sell/seller/group/list?page="+this.page+"&groupDistrict=1&token="+this.token).then(function(e){t.dorData=e.data.data.list,console.log(t.dorData)})},getsDormitory:function(){var t=this;console.log(this.schoolNo),this.domitory.splice(0,this.domitory.length),o.a.get(ae.sellerUrl+"/sell/seller/group/districtList?token="+this.token+"&schoolNo="+this.schoolNo).then(function(e){console.log(e),t.domitory=e.data.data}).catch(function(t){console.log(t)})},times:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.createsTime.push(e+"-"+s+"-"+i+" "+a+":"+o+":"+l)},default_dormitory:function(){var t=this;this.domitory.splice(0,this.domitory.length),o.a.get(ae.sellerUrl+"/sell/seller/group/districtList?token="+this.token+"&schoolNo=1").then(function(e){console.log(e),t.domitory=e.data.data}).catch(function(t){console.log(t)})},getAll:function(){var t=this;o.a.get(ae.sellerUrl+"/sell/seller/group/list?page="+this.page+"&groupDistrict="+this.groupDistrict+"&token="+this.token).then(function(e){t.dorData.splice(0,t.dorData.length),t.dorData=e.data.data.list,console.log(t.dorData)}).catch(function(t){console.log(t)})},selectDor:function(t){console.log(t),this.setCookie("groupId",t.groupId,1),console.log(this.getCookie("groupId"))},nextpage:function(){this.page++,this.getAll()},backpage:function(){this.page--,this.getAll()}},components:{search:ie}},le={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"domitory"}},[s("search",{ref:"schil"}),t._v(" "),s("div",[s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:"adddomitory",href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("添加寝室")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:"applydomitory",href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("查看寝室申请列表")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])],1),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.groupDistrict,expression:"groupDistrict"}],staticClass:"weui-select",attrs:{name:"select2"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.groupDistrict=e.target.multiple?s:s[0]},t.getAll]}},t._l(t.domitory,function(e,i){return s("option",{key:i,domProps:{value:e.groupDistrict}},[t._v(t._s(e.districtName)+"\n        ")])}))])]),t._v(" "),s("div",{staticClass:"weui-panel__hd hd"},[t._v("寝室列表")]),t._v(" "),s("div",{staticClass:"domitorylist"},t._l(this.dorData,function(e,i){return s("router-link",{key:i,staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"domitorydetail"}},nativeOn:{click:function(s){t.selectDor(e)}}},[s("div",{staticClass:"weui-cell__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.groupNo))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(t.createsTime[i]))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])})),t._v(" "),s("div",{staticClass:"page"},[s("button",{staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.backpage}},[t._v("上一页")]),t._v(" "),s("span",[t._v("第"+t._s(t.page)+"页")]),t._v(" "),s("button",{staticClass:"weui-btn weui-btn_mini weui-btn_default",on:{click:t.nextpage}},[t._v("下一页")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("寝室分区")])])}]};var ne=s("VU/8")(oe,le,!1,function(t){s("TVlA")},null,null).exports,re=s("pFYg"),ce=s.n(re),de=s("FhoZ");de=de.build;var ue={data:function(){return{index:[{indexId:0,name:"请选择宿舍区"},{indexId:1,name:"一区"},{indexId:2,name:"二区"},{indexId:3,name:"三区"},{indexId:4,name:"四区"},{indexId:5,name:"五区"},{indexId:6,name:"六区"},{indexId:7,name:"七区"},{indexId:8,name:"八区"}],num:"",name:"",phone:"",district:"",token:"",groupNo:"",userName:"",userPhone:""}},created:function(){this.token=this.getCookie("token")},methods:{getAll:function(t){this.district=t.target.value},subBox:function(){var t=this,e=this.groupNo[0];if(console.log(e),console.log(void 0===e?"undefined":ce()(e)),console.log(ce()(this.district)),""===this.groupNo)n.a.topTips("寝室号不能为空!",1e3);else if(""===this.userName)n.a.topTips("申请人姓名不能为空!",1e3);else if(""===this.userPhone)n.a.topTips("申请人电话不能为空!",1e3);else if(""===this.district)n.a.topTips("所属区不能为空");else if(e!==this.district)n.a.topTips(this.district+"区没有这个寝室");else{var s={token:this.token,groupNo:this.groupNo,userName:this.userName,userPhone:this.userPhone,groupDistrict:this.district},i=w.a.stringify(s);o.a.post(de.sellerUrl+"/sell/seller/group/save",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),"成功"===e.data.msg&&(n.a.toast("新增寝室成功!",{duration:1e3}),t.groupNo="",t.userName="",t.userPhone="")}).catch(function(t){n.a.alert("该寝室已存在!"),console.log(t)})}}}},_e={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"adddomitory"}},[s("div",{staticClass:"weui-cells__title"},[t._v("基本信息")]),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form"},[s("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupNo,expression:"groupNo"}],staticClass:"weui-input",attrs:{type:"text",pattern:"[0-9]*",placeholder:"例:1-1-111",value:""},domProps:{value:t.groupNo},on:{input:function(e){e.target.composing||(t.groupNo=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"weui-input",attrs:{type:"text",pattern:"[0-9]*",placeholder:"请输入申请人姓名",value:""},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPhone,expression:"userPhone"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入申请人电话",value:""},domProps:{value:t.userPhone},on:{input:function(e){e.target.composing||(t.userPhone=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{staticClass:"weui-select",attrs:{name:"select2"},on:{change:function(e){t.getAll(e)}}},t._l(this.index,function(e,i){return s("option",{key:i,domProps:{value:e.indexId}},[t._v(t._s(e.name))])}))])]),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:t.subBox}},[t._v("提交")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("寝室号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("申请人姓名")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("申请人电话")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("所属区")])])}]};var he=s("VU/8")(ue,_e,!1,function(t){s("WxYv")},null,null).exports,pe=s("FhoZ");pe=pe.build;var ve={data:function(){return{groupId:"",dorDetail:[],groupNo:"",token:""}},mounted:function(){},created:function(){var t=this;this.token=this.getCookie("token"),this.groupId=this.getCookie("groupId"),o.a.get(pe.sellerUrl+"/sell/seller/group/index?groupId="+this.groupId).then(function(e){console.log(e),t.dorDetail=e.data.data,t.groupNo=t.dorDetail.groupNo,t.setCookie("groupNo",t.groupNo,1),console.log(t.getCookie("groupNo"))}).catch(function(t){console.log(t)})},methods:{getPic:function(){this.$router.push({name:"pic"})},deletedomitory:function(){var t=this;o.a.get(pe.sellerUrl+"/sell/seller/group/delete?token="+this.token+"&groupNo="+this.dorDetail.groupNo).then(function(e){console.log(e),"成功"==e.data.msg&&(n.a.toast("删除成功!",{duration:3e3}),t.$router.push("domitory"))}).catch(function(t){console.log(t)})}}},ge={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"domitorydetail"}},[s("div",{staticClass:"weui-cells__title"},[t._v("寝室信息")]),t._v(" "),s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(this.dorDetail.groupNo))])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(this.dorDetail.userName))])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[t._v(t._s(this.dorDetail.userPhone))])]),t._v(" "),s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:"pic"}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("寝室二维码")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])],1),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("操作")]),t._v(" "),s("div",{staticClass:"weui-cells"},[s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"createTemplate"}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("给寝室补货")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"dorReplenishList"}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("寝室配送单列表")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"dorGoodsList"}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("寝室商品列表")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])],1),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_warn",attrs:{href:"javascript:;"},on:{click:t.deletedomitory}},[t._v("删除寝室")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("寝室号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("申请人")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__bd"},[e("p",[this._v("申请人电话")])])}]};var me=s("VU/8")(ve,ge,!1,function(t){s("GO3u")},null,null).exports,fe=s("FhoZ");fe=fe.build;var we={data:function(){return{token:"",applyData:[],createsTimes:[],modes:[],id:"",updateTimes:[]}},created:function(){this.token=this.getCookie("token"),this.applys(),this.modes=this.$route.params.modes,console.log(this.modes)},mounted:function(){},methods:{applys:function(){var t=this;o.a.get(fe.sellerUrl+"/sell/seller/boxApply/list?token="+this.token).then(function(e){console.log(e),t.applyData=e.data.data.list,t.createsTimes.splice(0,t.createsTimes.length),t.updateTimes.splice(0,t.updateTimes.length);for(var s=0;s<t.applyData.length;s++){var i=new Date(t.applyData[s].createTime);t.changeTime(i);var a=new Date(t.applyData[s].updateTime);t.upsTime(a)}})},upsTime:function(t){10===t.toString().length&&(t*=1e3);var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes(),l=t.getSeconds();this.updateTimes.push(e+"-"+s+"-"+i+" "+a+":"+o+":"+l)},changeTime:function(t){10===t.toString().length&&(t*=1e3);var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes(),l=t.getSeconds();this.createsTimes.push(e+"-"+s+"-"+i+" "+a+":"+o+":"+l)},applyDor:function(t){var e=this,s=t.id;console.log(t),o.a.get(fe.sellerUrl+"/sell/seller/boxApply/save?id="+s).then(function(t){console.log(t),n.a.toast("增加成功!",{duration:1e3}),o.a.get(fe.sellerUrl+"/sell/seller/boxApply/list?token="+e.token).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}).catch(function(t){n.a.$topTips("增加失败!"),console.log(t)})},del:function(t){var e=this,s=t.id;o.a.get(fe.sellerUrl+"/sell/seller/boxApply/delete?id="+s).then(function(t){console.log(t),n.a.toast("操作成功",{duration:2e3}),o.a.get(fe.sellerUrl+"/sell/seller/boxApply/list?token="+e.token).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},pushHistory:function(){window.history.pushState({title:"title",url:"#"},"title","#")}}},Ce={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"applydomitory"}},[s("div",{staticClass:"weui-cells__title"},[t._v("寝室申请列表")]),t._v(" "),t._l(this.applyData,function(e,i){return s("div",{key:i,staticClass:"weui-form-preview orderitem"},[s("div",{staticClass:"weui-form-preview__hd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("申请人姓名")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(e.userName))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("寝室号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(e.groupNo))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("申请人电话")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(e.userPhone))])])]),t._v(" "),s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("创建时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.createsTimes[i]))])])]),t._v(" "),s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("更新时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(t.updateTimes[i]))])])]),t._v(" "),s("div",{staticClass:"weui-form-preview__ft"},[s("a",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",attrs:{href:"javascript:"},on:{click:function(s){t.applyDor(e)}}},[t._v("新增寝室")]),t._v(" "),s("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",attrs:{type:"submit",href:"javascript:;"},on:{click:function(s){t.del(e)}}},[t._v("删除\n      ")])])])})],2)},staticRenderFns:[]};var be=s("VU/8")(we,Ce,!1,function(t){s("1EBH")},null,null).exports,ke=s("FhoZ");ke=ke.build;var ye={data:function(){return{se:"1",groupNo:"",token:"",sort:"1",sTime:"",eTime:"",startTime:"",endTime:new Date,goodsList:[],dorList:[],createTimes:[],amount:0,kk:1,page:1,index:[{indexId:1,name:"商品销售统计"},{indexId:2,name:"订单销售统计"},{indexId:3,name:"寝室订单销售统计"}]}},created:function(){this.token=this.getCookie("token")},methods:{getCurrentTime:function(){var t=new Date,e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate();this.sTime=e+"-"+s+"-"+i,console.log(this.sTime)},getOrders:function(){var t=this;o.a.get(ke.sellerUrl+"/sell/seller/order/timeBetween?token="+this.token+"&startTime="+this.sTime+"&endTime="+this.eTime).then(function(e){console.log(e),t.amount=e.data.data.orderListAmount}).catch(function(t){console.log(t)})},getDoOrders:function(){var t=this;o.a.get(ke.sellerUrl+"/sell/seller/order/timeBetween?token="+this.token+"&startTime="+this.sTime+"&endTime="+this.eTime+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.amount=e.data.data.orderListAmount}).catch(function(t){console.log(t)})},getGoodsSta:function(){var t=this;o.a.get(ke.sellerUrl+"/sell/seller/order/productSalesVolume?token="+this.token+"&startTime="+this.sTime+"&endTime="+this.eTime+"&size=100").then(function(e){console.log(e),t.goodsList=e.data.data,console.log(t.goodsList),t.totalP()}).catch(function(t){console.log(t)})},totalP:function(){this.amount=0;for(var t=0;t<this.goodsList.length;t++)for(var e=0;e<this.goodsList[t].foods.length;e++)this.amount+=this.goodsList[t].foods[e].price*this.goodsList[t].foods[e].quantity;this.amount=this.amount.toFixed(2)},getDetail:function(t){this.$router.push({name:"orderdetail1",params:{goods:t}})},getAll:function(t){this.sort=t.target.value},times:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.createTimes.push(e+"-"+s+"-"+i+" "+a+":"+o+":"+l)},selectMore:function(){this.startTime=this.sTime,this.endTime=this.eTime,console.log(this.startTime),console.log(this.endTime),"1"===this.sort&&(this.kk=1,this.getGoodsSta()),"2"===this.sort&&(this.kk=2,this.getOrders()),"3"===this.sort&&(this.kk=3,this.getDoOrders())},lastPage:function(){this.page-=1,0===this.page&&(n.a.alert("不要再翻啦~"),this.page+=1)},nextPage:function(){this.page+=1},gotoPages:function(){}}},xe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"statistica"}},[s("div",{staticClass:"weui-cells__title"},[t._v("排行")]),t._v(" "),s("div",{staticClass:"weui-cells"},[s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:"dorstatistic",href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("寝室销售排行")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])],1),t._v(" "),s("div",{staticClass:"weui-cells__title"},[t._v("销售统计")]),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form"},[s("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.se,expression:"se"}],staticClass:"weui-select",attrs:{name:"select2"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.se=e.target.multiple?s:s[0]},function(e){t.getAll(e)}]}},t._l(this.index,function(e,i){return s("option",{key:i,domProps:{value:e.indexId}},[t._v(t._s(e.name))])}))])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sTime,expression:"sTime"}],staticClass:"weui-input",attrs:{type:"date"},domProps:{value:t.sTime},on:{input:function(e){e.target.composing||(t.sTime=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.eTime,expression:"eTime"}],staticClass:"weui-input",attrs:{type:"date",value:""},domProps:{value:t.eTime},on:{input:function(e){e.target.composing||(t.eTime=e.target.value)}}})])]),t._v(" "),3==t.se?s("div",{staticClass:"weui-cell"},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupNo,expression:"groupNo"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.groupNo},on:{input:function(e){e.target.composing||(t.groupNo=e.target.value)}}})])]):t._e()]),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:t.selectMore}},[t._v("查询")]),t._v(" "),t.amount>0?s("div",{staticClass:"weui-cells__title",staticStyle:{"border-bottom":"1px solid rgba(7,17,27,0.1)"}},[t._v("合计金额￥"+t._s(t.amount))]):t._e(),t._v(" "),t._l(this.goodsList,function(e,i){return 1===t.kk?s("div",{key:i},[s("div",{staticClass:"page__bd page__bd_spacing"},[s("div",{staticClass:"weui-cells__title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.foods,function(e,i){return s("div",{key:i,staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__bd"},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.icon}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title",staticStyle:{color:"#000"}},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("商品单价：￥"+t._s(e.price))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("商品介绍："+t._s(e.description))])]),t._v(" "),s("a",{staticClass:"weui-cell weui-cell_access",attrs:{href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[t._v("x"+t._s(e.quantity)+"\n              ")])])])])])})],2)]):t._e()})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("搜索类型")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("开始时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("结束时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label",attrs:{for:""}},[this._v("寝室号\n        ")])])}]};var Ne=s("VU/8")(ye,xe,!1,function(t){s("+7+r")},null,null).exports,Te=s("FhoZ");Te=Te.build;var De={data:function(){return{orderNo:"",token:""}},mounted:function(){},created:function(){var t=this.getCookie("token");null!==t&&t?this.token=t:window.location.href=" http://rm4nka.natappfree.cc",this.orderNo=this.$route.params.dorOrder,console.log(this.orderNo),this.getDorOrder()},methods:{pushHistory:function(){window.history.pushState({title:"title",url:"#"},"title","#")},getDorOrder:function(){o.a.get(Te.sellerUrl+"/sell/seller/order/list?token="+this.token+"&groupNo="+this.orderNo+"&payStatus=0").then(function(t){console.log(t)}).catch(function(t){console.log(t)})}},components:{orderlist:Bt}},Se={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"domitoryorder"}},[s("div",{staticClass:"weui-panel__hd hd"},[t._v("寝室订单列表")]),t._v(" "),t._l(7,function(e){return s("div",{key:e,staticClass:"weui-form-preview orderitem"},[t._m(0,!0),t._v(" "),t._m(1,!0),t._v(" "),s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:"orderdetail"}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("查看详情")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),t._m(2,!0)],1)})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-form-preview__hd"},[e("div",{staticClass:"weui-form-preview__item"},[e("label",{staticClass:"weui-form-preview__label"},[this._v("付款金额")]),this._v(" "),e("em",{staticClass:"weui-form-preview__value"},[this._v("¥2400.00")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("寝室号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v("7-6-222")])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v("2018-4-8 21:22:55")])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("商品")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v("商品1，商品1，商品1，商品1，商品1，商品1，商品1，商品1")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-form-preview__ft"},[e("a",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",attrs:{href:"javascript:"}},[this._v("操作")]),this._v(" "),e("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",attrs:{type:"submit",href:"javascript:"}},[this._v("操作")])])}]};var $e=s("VU/8")(De,Se,!1,function(t){s("H2tV")},null,null).exports,Ee=s("FhoZ");Ee=Ee.build;var Fe={data:function(){return{groupNo:"",token:"",goodsList:[],items:"",templateId:"",deleteStatus:0}},created:function(){this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo"),this.getList()},methods:{getList:function(){var t=this;o.a.get(Ee.sellerUrl+"/sell/seller/template/detail?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.goodsList=e.data.data,t.deleteStatus=t.goodsList.deleteStatus,1===t.deleteStatus&&n.a.alert("暂未创建模板!"),t.templateId=t.goodsList.templateId,console.log(t.goodsList)}).catch(function(t){console.log(t)})},createRE:function(){o.a.get(Ee.sellerUrl+"/sell/seller/template/create_replenish?token="+this.token+"&templateId="+this.templateId).then(function(t){console.log(t),"成功"===t.data.msg?n.a.toast("创建订单成功!",{duration:1e3}):n.a.alert(""+t.data.msg)}).catch(function(t){console.log(t),n.a.alert("创建订单失败!")})},delRE:function(){var t=this;o.a.get(Ee.sellerUrl+"/sell/seller/template/delete?token="+this.token+"&templateId="+this.templateId).then(function(e){console.log(e),"成功"===e.data.msg?(n.a.toast("删除成功!",{duration:1e3}),t.$router.go(-1)):n.a.alert(""+e.data.msg)}).catch(function(t){n.a.topTips("删除失败!"),console.log(t)})}}},Ue={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"stockout"}},[s("div",{staticClass:"weui-cells__title"},[s("span",{staticClass:"weui-media-box__title",staticStyle:{"font-weight":"bold"}},[t._v(t._s(this.goodsList.templateName))]),t._v(" 商品模板")]),t._v(" "),t._l(this.goodsList.templateDetailList,function(e,i){return 0===t.deleteStatus?s("div",{key:i,staticClass:"weui-panel__bd"},[s("div",{staticClass:"weui-cells weui-cells_checkbox"},[s("label",{staticClass:"weui-cell weui-check__label",attrs:{for:"s11"}},[s("div",{staticClass:"weui-cell__bd"},[s("p",{staticClass:"weui-media-box__title"},[t._v(t._s(e.productName))])]),t._v(" "),s("a",{staticClass:"weui-cell weui-cell_access",attrs:{href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[t._v("x"+t._s(e.productQuantity)+"\n          ")])])])])]):t._e()}),t._v(" "),0===t.deleteStatus?s("div",{staticClass:"weui-form-preview__ft"},[s("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",staticStyle:{background:"#0bb20c",color:"#fff"},on:{click:t.createRE}},[t._v("创建配送单")]),t._v(" "),s("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",staticStyle:{background:"red",color:"#fff"},on:{click:t.delRE}},[t._v("删除模板")])]):t._e()],2)},staticRenderFns:[]};var Ie=s("VU/8")(Fe,Ue,!1,function(t){s("k1Uq")},null,null).exports,Pe=s("GQaK"),Le=s("FhoZ");Le=Le.build;var Me={data:function(){return{goods:[],listHeight:[],scrollY:0,selectedFood:{},dromNum:"",token:"",groupNo:"",amount:0}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(!s||this.scrollY>=e&&this.scrollY<s)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},mounted:function(){},created:function(){var t=this;this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo"),o.a.get(Le.sellerUrl+"/sell/seller/replenish/productlist?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.dromNum=e.data.msg,t.goods=e.data.data,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})}).catch(function(t){console.log(t)})},methods:{addFood:function(t){this._drop(t)},selectMenu:function(t,e){if(e._constructed){var s=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook")[t];this.foodsScroll.scrollToElement(s,300)}},selectFood:function(t,e){e._constructed&&(this.selectedFood=t)},_initScroll:function(){var t=this;this.meunScroll=new Pe.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new Pe.a(this.$refs.foodsWrapper,{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(e){e.y<=0&&(t.scrollY=Math.abs(Math.round(e.y)))})},_calculateHeight:function(){var t=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e);for(var s=0;s<t.length;s++){e+=t[s].clientHeight,this.listHeight.push(e)}},_drop:function(t){var e=this;this.$nextTick(function(){e.$refs.shopcart.drop(t)})},totalP:function(){this.amount=0;for(var t=0;t<this.goods.length;t++)for(var e=0;e<this.goods[t].foods.length;e++)this.goods[t].foods[e].count>0&&(this.amount+=this.goods[t].foods[e].price*this.goods[t].foods[e].count);return this.amount.toFixed(2)},setFoods:function(){this.amount=0;for(var t="[",e=0;e<this.goods.length;e++)for(var s=0;s<this.goods[e].foods.length;s++){if(this.goods[e].foods[s].count>0)t+='{productId:"'+this.goods[e].foods[s].id+'",productQuantity:'+this.goods[e].foods[s].count+"},"}t=t.substring(0,t.length-1),t+="]",console.log(t);var i={token:this.token,items:t,groupNo:this.groupNo};return console.log(i),w.a.stringify(i)},createRE:function(){var t=this,e=this.setFoods();this.totalP(),console.log(e),o.a.post(Le.sellerUrl+"/sell/seller/dispatch/create",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),"成功"===e.data.msg?n.a.toast("创建配送单成功!订单金额为:"+t.amount+"元",{duration:3e3}):n.a.alert(""+e.data.msg)}).catch(function(t){console.log(t),n.a.alert("创建订单失败!")})}},components:{Cartcontrol:ut}},Re={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goodMain"},[s("div",{staticClass:"goods"},[s("div",{ref:"menuWrapper",staticClass:"menu-wrapper menu-list-hook"},[s("ul",t._l(t.goods,function(e,i){return s("li",{key:i,staticClass:"menu-item",class:{current:t.currentIndex===i},on:{click:function(e){t.selectMenu(i,e)}}},[s("span",{staticClass:"text border-1px"},[t._v("\n            "+t._s(e.name)+"\n          ")])])}))]),t._v(" "),s("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[s("ul",t._l(t.goods,function(e,i){return s("li",{key:i,staticClass:"food-list food-list-hook"},[s("h1",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("ul",t._l(e.foods,function(e,i){return e.quantity>0?s("li",{key:i,staticClass:"food-item border-1px",on:{click:function(s){t.selectFood(e,s)}}},[s("div",{staticClass:"icon"},[s("img",{attrs:{width:"68",height:"68",src:e.icon}})]),t._v(" "),s("div",{staticClass:"content"},[s("h2",{staticClass:"name",staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"price"},[s("span",{staticClass:"now",staticStyle:{"margin-left":"10px"}},[t._v("￥"+t._s(e.price)+"元")])]),t._v(" "),e.sales>0?s("div",{staticClass:"sales"},[s("span",{staticClass:"sales",staticStyle:{"margin-left":"10px"}},[t._v("商品销售量:"+t._s(e.sales))])]):t._e(),t._v(" "),s("div",{staticClass:"extra"},[s("span",{staticClass:"count",staticStyle:{"margin-left":"10px"}},[t._v("仓库库存:"+t._s(e.quantity))])]),t._v(" "),e.stock>0?s("div",{staticClass:"stock",staticStyle:{"margin-top":"5px"}},[s("span",{staticClass:"stock",staticStyle:{"margin-left":"10px"}},[t._v("寝室库存:"+t._s(e.stock))])]):t._e(),t._v(" "),e.stockout>0?s("div",{staticClass:"stockout",staticStyle:{"margin-top":"5px"}},[s("span",{staticClass:"stockout",staticStyle:{"margin-left":"10px"}},[t._v("寝室回收数量:"+t._s(e.stockout))])]):t._e()]),t._v(" "),s("div",{staticClass:"cartcontrol-wrapper"},[s("cartcontrol",{attrs:{food:e}})],1)]):t._e()}))])}))])]),t._v(" "),s("div",{staticClass:"weui-tabbar"},[s("div",{staticClass:"weui-form-preview__ft",staticStyle:{background:"#0bb20c",width:"100%"},on:{click:t.createRE}},[t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary"},[e("span",{staticStyle:{color:"#fff"}},[this._v("创建配送单")])])}]};var je=s("VU/8")(Me,Re,!1,function(t){s("1ymB")},null,null).exports,Ve=s("FhoZ");Ve=Ve.build;var Ae={data:function(){return{groupNo:"",token:"",replenishList:[],goodsList:[]}},created:function(){this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo"),this.getDetail(),this.getList()},methods:{getDetail:function(){var t=this;o.a.get(Ve.sellerUrl+"/sell/seller/dispatch/detail?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.replenishList=e.data.data.dispatchDetailList,console.log(t.replenishList)}).catch(function(t){console.log(t)})},getList:function(){var t=this;o.a.get(Ve.sellerUrl+"/sell/seller/group/detail?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.goodsList=e.data.data}).catch(function(t){console.log(t)})},createMode:function(){o.a.get(Ve.sellerUrl+"/sell/seller/dispatch/create_template?token="+this.token+"&groupNo="+this.groupNo).then(function(t){console.log(t),"成功"===t.data.msg?n.a.toast("创建模板成功!"):n.a.alert(""+t.data.msg)}).catch(function(t){n.a.alert("创建模板失败!"),console.log(t)})},gotoList:function(){this.setCookie("groupNo",this.groupNo,1),this.$router.push({name:"dorgroup"})}}},He={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dorReplenishList"}},[s("div",{staticClass:"weui-form-preview__ft",staticStyle:{"margin-top":"10px"}},[this.replenishList.length>0?s("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",staticStyle:{background:"#0bb20c",color:"#fff"},on:{click:t.createMode}},[t._v("创建模板\n    ")]):t._e(),t._v(" "),this.goodsList.length>0?s("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",staticStyle:{"border-top":"2px solid rgba(7,17,27,0.3)","border-bottom":"2px solid rgba(7,17,27,0.3)","border-right":"2px solid rgba(7,17,27,0.3)"},on:{click:t.gotoList}},[t._v("\n      寝室上次配送单\n    ")]):t._e()]),t._v(" "),s("div",{staticClass:"weui-panel__hd hd"},[s("span",{staticClass:"weui-media-box__title",staticStyle:{"font-weight":"bold"}},[t._v(t._s(this.groupNo))]),t._v(" 配送单列表\n  ")]),t._v(" "),s("div",{staticClass:"page__bd page__bd_spacing "},[s("div",{staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__bd"},t._l(this.replenishList,function(e,i){return s("div",{key:i,staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.productIcon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.productName))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("单价￥"+t._s(e.productPrice))])]),t._v(" "),s("a",{staticClass:"weui-cell weui-cell_access",attrs:{href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[t._v("x"+t._s(e.productQuantity)+"\n            ")])])])}))])])])},staticRenderFns:[]};var Ze=s("VU/8")(Ae,He,!1,function(t){s("3VbM")},null,null).exports,Qe={data:function(){return{search:"",empty:!0}},props:["data"],methods:{resultshow:function(t){return new String(t.name).indexOf(this.search)>=0}},created:function(){},mounted:function(){var t=m()("#searchBar"),e=m()("#searchResult"),s=m()("#searchText"),i=m()("#searchInput"),a=m()("#searchClear"),o=m()("#searchCancel");m()(function(){function l(){e.hide(),i.val("")}function n(){l(),t.removeClass("weui-search-bar_focusing"),s.show()}s.on("click",function(){t.addClass("weui-search-bar_focusing"),i.focus()}),i.on("blur",function(){this.value.length||n()}).on("input",function(){this.value.length?e.show():e.hide()}),a.on("click",function(){l(),i.focus()}),o.on("click",function(){n(),i.blur()})}),e.hide(),i.val("")}},Oe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[s("form",{staticClass:"weui-search-bar__form"},[s("div",{staticClass:"weui-search-bar__box"},[s("i",{staticClass:"weui-icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.resultshow]}}),t._v(" "),s("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),t._v(" "),t._m(0)]),t._v(" "),s("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[t._v("取消")])]),t._v(" "),s("div",{staticClass:"weui-cells searchbar-result",attrs:{id:"searchResult"}},t._l(t.data,function(e,i){return s("div",{key:i},t._l(e.foods,function(e,i){return s("div",{key:i},[t.resultshow(e)?s("div",{staticClass:"weui-cell weui-cell_access"},[s("div",{staticClass:"weui-cell__bd weui-cell_primary"},[s("p",[t._v(t._s(e.name))])])]):t._e()])}))}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("span",[this._v("搜索")])])}]};var Ge=s("VU/8")(Qe,Oe,!1,function(t){s("x4SG")},null,null).exports,Be=s("FhoZ");Be=Be.build;var ze={data:function(){return{token:"",staData:[],upTimes:[],page:1,showFlag:!1,showDor:!1,dorname:"存货排行",sort:0}},created:function(){this.token=this.getCookie("token"),console.log(this.token),this.getQue(),this.getStyle()},mounted:function(){m()(function(){m()(".weui-tabbar__item").on("click",function(){m()(this).addClass("weui-bar__item_on").siblings(".weui-bar__item_on").removeClass("weui-bar__item_on")})})},methods:{gotoRep:function(t){console.log(t),this.setCookie("groupNo",t.groupNo),this.$router.push({name:"createTemplate"})},getQue:function(){var t=this,e=n.a.loading("加载中");this.showDor=!this.showDor,this.showFlag=!this.showFlag,this.dorname="存货排行",this.sort=0,o.a.get(Be.sellerUrl+"/sell/seller/group/salesList?token="+this.token+"&page="+this.page).then(function(s){t.staData=s.data.data.list,t.upTimes.splice(0,t.upTimes.length);for(var i=0;i<t.staData.length;i++){var a=t.staData[i].updateTime;if(10===a.toString().length)var o=new Date(1e3*a);else o=new Date(a);t.times(o)}console.log(t.staData),e.hide(),n.a.toast("加载成功",{duration:1e3})}).catch(function(t){console.log(t),e.hide(),n.a.toast("失败!!!",{duration:1e3})})},getShow:function(){this.showDor=!0,this.showFlag=!1},getStyle:function(){this.showFlag=!0,this.showDor=!1},getStatistic:function(){var t=this,e=n.a.loading("加载中");this.showDor=!this.showDor,this.showFlag=!this.showFlag,this.dorname="寝室销售排行",this.sort=1,o.a.get(Be.sellerUrl+"/sell/seller/group/salesList?token="+this.token+"&orderField=groupConsume&page="+this.page).then(function(s){console.log(s),t.staData=s.data.data.list,t.upTimes.splice(0,t.upTimes.length);for(var i=0;i<t.staData.length;i++){var a=t.staData[i].updateTime;if(10===a.toString().length)var o=new Date(1e3*a);else o=new Date(a);t.times(o)}console.log(t.staData),e.hide(),n.a.toast("加载成功",{duration:1e3})}).catch(function(t){console.log(t),e.hide(),n.a.toast("失败!!!",{duration:1e3})})},times:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.upTimes.push(e+"-"+s+"-"+i+" "+a+":"+o+":"+l)},gotoPages:function(){var t=this;console.log(this.page),1===this.sort?(this.showFlag=!0,this.showDor=!1,o.a.get(Be.sellerUrl+"/sell/seller/group/salesList?token="+this.token+"&orderField=groupConsume&page="+this.page).then(function(e){if(console.log(e),t.staData=e.data.data.list,0===t.staData.length)n.a.topTips("请输入正确的页码!");else{t.upTimes.splice(0,t.upTimes.length);for(var s=0;s<t.staData.length;s++){var i=t.staData[s].updateTime;if(10===i.toString().length)var a=new Date(1e3*i);else a=new Date(i);t.times(a)}console.log(t.staData)}}).catch(function(t){n.a.topTips("请输入正确的页码!"),console.log(t)})):0===this.sort&&(this.showFlag=!1,this.showDor=!0,o.a.get(Be.sellerUrl+"/sell/seller/group/salesList?token="+this.token+"&page="+this.page).then(function(e){if(console.log(e),t.staData=e.data.data.list,0===t.staData.length)n.a.topTips("请输入正确的页码!");else{t.upTimes.splice(0,t.upTimes.length);for(var s=0;s<t.staData.length;s++){var i=t.staData[s].updateTime;if(10===i.toString().length)var a=new Date(1e3*i);else a=new Date(i);t.times(a)}}console.log(t.staData)}).catch(function(t){console.log(t)}))},lastPage:function(){this.page-=1,0===this.sort?(this.showFlag=!1,this.showDor=!0,0===this.page?(n.a.alert("不能再翻啦~"),this.page+=1):this.getQue()):1===this.sort&&(this.showFlag=!0,this.showDor=!1,0===this.page?(n.a.alert("不能再翻啦~"),this.page+=1):this.getStatistic())},nextPage:function(){var t=this;this.page+=1,1===this.sort?(this.showFlag=!0,this.showDor=!1,o.a.get(Be.sellerUrl+"/sell/seller/group/salesList?token="+this.token+"&orderField=groupConsume&page="+this.page).then(function(e){if(console.log(e),t.staData=e.data.data.list,console.log(e.data.data.list.length),0===e.data.data.list.length)n.a.alert("不能再翻啦~"),t.page-=1,console.log(t.page),t.getStatistic();else{t.upTimes.splice(0,t.upTimes.length);for(var s=0;s<t.staData.length;s++){var i=t.staData[s].updateTime;if(10===i.toString().length)var a=new Date(1e3*i);else a=new Date(i);t.times(a)}console.log(t.staData)}}).catch(function(t){console.log(t)})):0===this.sort&&(this.showFlag=!1,this.showDor=!0,this.staData.splice(0,this.staData.length),o.a.get(Be.sellerUrl+"/sell/seller/group/salesList?token="+this.token+"&page="+this.page).then(function(e){if(console.log(e),t.staData=e.data.data.list,console.log(e.data.data.list.length),0===e.data.data.list.length)n.a.alert("不能再翻啦~"),t.page-=1,console.log(t.page),t.getQue();else{t.upTimes.splice(0,t.upTimes.length);for(var s=0;s<t.staData.length;s++){var i=t.staData[s].updateTime;if(10===i.toString().length)var a=new Date(1e3*i);else a=new Date(i);t.times(a)}console.log(t.staData)}}).catch(function(t){console.log(t)}))}},components:{searchdomitory:Ge}},Ye={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dorstatistic"}},[s("searchdomitory"),t._v(" "),s("div",{staticClass:"page__bd"},[s("div",{staticClass:"weui-tab"},[s("div",{staticClass:"weui-navbar",staticStyle:{height:"44px"}},[s("a",{staticClass:"weui-tabbar__item weui-bar__item_on",on:{click:t.getQue}},[s("p",{staticClass:"weui-tabbar__label"},[t._v("存货排行")])]),t._v(" "),s("a",{staticClass:"weui-tabbar__item",on:{click:t.getStatistic}},[s("p",{staticClass:"weui-tabbar__label"},[t._v("寝室销售排行")])])])])]),t._v(" "),s("div",{staticClass:"weui-panel__hd hd"},[t._v(t._s(t.dorname))]),t._v(" "),t._l(this.staData,function(e,i){return s("div",{key:i,staticClass:"weui-panel__bd"},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.groupNo))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(e.userName)+" Tel:"+t._s(e.userPhone))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("时间:"+t._s(t.upTimes[i]))])]),t._v(" "),s("div",{staticClass:"weui-media-box__ft"},[s("p",{staticClass:"weui-media-box__desc"},[t._v("消费金额:￥"+t._s(e.groupConsume))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("寝室商品总额:￥"+t._s(e.groupAmount))])])])])}),t._v(" "),s("div",{staticClass:"weui-form-preview__item",staticStyle:{"margin-top":"10px","margin-left":"10%"}},[s("a",{staticClass:"weui-btn weui-btn_default weui-btn_mini",attrs:{href:"javascript:;"},on:{click:t.lastPage}},[t._v("上一页")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.page,expression:"page"}],staticClass:"weui-search-bar_input",staticStyle:{display:"inline-block",width:"50px",height:"18px","text-align":"center"},attrs:{type:"number",value:""},domProps:{value:t.page},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.gotoPages(e):null},input:function(e){e.target.composing||(t.page=e.target.value)}}}),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_default weui-btn_mini",attrs:{href:"javascript:;"},on:{click:t.nextPage}},[t._v("下一页")])])],2)},staticRenderFns:[]};var qe=s("VU/8")(ze,Ye,!1,function(t){s("+2bG")},null,null).exports,We=s("FhoZ");We=We.build;var Ke={data:function(){return{token:"",templatesData:[],upTime:[]}},created:function(){var t=this;this.token=this.getCookie("token"),o.a.get(We.sellerUrl+"/sell/seller/template/list?token="+this.token).then(function(e){if(console.log(e),t.templatesData=e.data.data,console.log(t.templatesData),0===t.templatesData.length)n.a.alert("暂无模板");else{t.upTime.splice(0,t.upTime.length);for(var s=0;s<t.templatesData.length;s++){var i=t.templatesData[s].updateTime;if(10===i.toString().length)var a=new Date(1e3*i);else a=new Date(i);t.times(a)}}}).catch(function(t){console.log(t)})},methods:{getDetail:function(t){console.log(t),this.setCookie("templateName",t.templateName,1),this.setCookie("templateId",t.templateId,1),this.$router.push({name:"templatesDetail"})},times:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.upTime.push(e+"-"+s+"-"+i+" "+a+":"+o+":"+l)}}},Xe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"templates"}},[s("div",{staticClass:"weui-cells__title hd"},[t._v("模板管理")]),t._v(" "),s("div",{staticClass:"weui-cells"},[s("router-link",{staticClass:"weui-cell weui-cell_access",attrs:{to:{name:"addtemplates"}}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[t._v("添加模板")])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])],1),t._v(" "),s("div",{staticClass:"weui-cells__title hd"},[t._v("模板列表")]),t._v(" "),s("div",{staticClass:"weui-cells"},t._l(this.templatesData,function(e,i){return s("div",{key:i,staticClass:"templatelist"},[s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(s){t.getDetail(e)}}},[s("div",{staticClass:"weui-cell__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.templateName))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(t.upTime[i]))])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})])])}))])},staticRenderFns:[]};var Je=s("VU/8")(Ke,Xe,!1,function(t){s("3G/W")},null,null).exports,ts={data:function(){return{salesQuantity:""}},props:["food"],created:function(){console.log(this.food)},methods:{addCart:function(t){if(0!==this.food.stock){if(this.food.count){if(!(this.food.count<this.food.stock))return;this.food.count++}else i.a.set(this.food,"count",1);this.$emit("add",t.target)}},decreaseCart:function(t){this.food.count>0&&this.food.count--}}},es={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"carcontrol"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.food.count>0,expression:"this.food.count > 0"}],staticClass:"cart-decrease",attrs:{transition:"move"},on:{click:t.decreaseCart}},[s("span",{staticClass:"inner"},[t._v("-")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:this.food.count>0,expression:"this.food.count>0"}],ref:"fff",staticClass:"cart-count"},[t._v(t._s(this.food.count))]),t._v(" "),s("div",{staticClass:"cart-add",on:{click:t.addCart}},[t._v("+")])])},staticRenderFns:[]};var ss=s("VU/8")(ts,es,!1,function(t){s("5xti")},null,null).exports,is=s("FhoZ");is=is.build;var as={data:function(){return{groupNo:"",token:"",goodsList:[],items:"",status:0,list:[]}},created:function(){this.token=this.getCookie("token"),console.log(this.token),this.groupNo=this.getCookie("groupNo"),console.log(this.groupNo),this.getList()},methods:{getList:function(){var t=this;o.a.get(is.sellerUrl+"/sell/seller/group/productList?token="+this.token+"&groupNo="+this.groupNo).then(function(e){t.goodsList=e.data.data,console.log(t.goodsList),t.list.splice(0,t.list.length);for(var s=0;s<t.goodsList.length;s++){t.status=0;for(var i=0;i<t.goodsList[s].foods.length;i++)0===t.goodsList[s].foods[i].stock&&(t.status+=1);t.list.push(t.status)}console.log(t.list)}).catch(function(t){console.log(t)})},setFoods:function(){for(var t="[",e=0;e<this.goodsList.length;e++)for(var s=0;s<this.goodsList[e].foods.length;s++){if(this.goodsList[e].foods[s].count>0)t+='{productId:"'+this.goodsList[e].foods[s].id+'",productQuantity:"'+this.goodsList[e].foods[s].count+'",groupNo:'+this.groupNo+"},"}t=t.substring(0,t.length-1),t+="]";var i={token:this.token,items:t};return console.log(i),w.a.stringify(i)},stockoutGoods:function(){var t=this,e=this.setFoods();"]"===this.items&&n.a.topTips("请先选择需要回收的商品!",2e3),console.log("yes"),o.a.post(is.sellerUrl+"/sell/seller/group/stockout",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),"成功"===e.data.msg?(n.a.toast("回收商品成功!",{duration:1e3}),t.getList()):n.a.alert(""+e.data.msg)}).catch(function(t){console.log(t),n.a.alert("回收失败!")})}},components:{carcontrol:ss}},os={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"stockout"}},[t._l(this.goodsList,function(e,i){return s("div",{key:i,staticClass:"page__bd page__bd_spacing"},[e.foods.length!==t.list[i]?s("div",{staticClass:"weui-cells__title"},[t._v(t._s(e.name))]):t._e(),t._v(" "),t._l(e.foods,function(e,i){return e.stock>0?s("div",{key:i,staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__bd"},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.icon}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[s("span",{staticStyle:{color:"red"}},[t._v("回收数量最大不超过")]),t._v("寝室商品库存:"+t._s(e.stock))])]),t._v(" "),s("carcontrol",{attrs:{food:e}})],1)])]):t._e()})],2)}),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_warn",attrs:{href:"javascript:;"},on:{click:t.stockoutGoods}},[t._v("回收商品")])],2)},staticRenderFns:[]};var ls=s("VU/8")(as,os,!1,function(t){s("7X4k")},null,null).exports,ns=s("FhoZ");ns=ns.build;var rs={data:function(){return{token:"",groupNo:"",goodsList:[]}},created:function(){var t=this;this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo"),o.a.get(ns.sellerUrl+"/sell/seller/group/detail?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.goodsList=e.data.data}).catch(function(t){console.log(t)})}},cs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dorgroup"}},[s("div",{staticClass:"page__bd page__bd_spacing"},[s("div",{staticClass:"weui-cells__title"},[s("span",{staticClass:"weui-media-box__title",staticStyle:{"font-weight":"bold"}},[t._v(t._s(this.groupNo))]),t._v(" 补货快照")]),t._v(" "),t._l(this.goodsList,function(e,i){return s("div",{key:i,staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__bd"},[s("div",{staticClass:"weui-media-box weui-media-box_appmsg"},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.productIcon}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.productName))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("￥"+t._s(e.productPrice))])]),t._v(" "),s("a",{staticClass:"weui-cell weui-cell_access",attrs:{href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[t._v("x"+t._s(e.productQuantity)+"\n            ")])])])])])})],2)])},staticRenderFns:[]};var ds=s("VU/8")(rs,cs,!1,function(t){s("ZCKV")},null,null).exports,us=s("FhoZ");us=us.build;var _s={data:function(){var t;return t={crdetails:[],token:"",templateId:"",groupNo:"",upTime:"",createTime:"",crGoods:[]},Et()(t,"templateId",""),Et()(t,"dialogshow",!1),t},created:function(){this.token=this.getCookie("token"),console.log(this.token),this.templateId=this.getCookie("templateId"),console.log(this.templateId),this.getDetailList()},methods:{getDetailList:function(){var t=this;console.log(this.crGoods),this.crGoods.splice(0,this.crGoods.length),o.a.get(us.sellerUrl+"/sell/seller/template/detail?token="+this.token+"&templateId="+this.templateId).then(function(e){if(console.log(e),t.crdetails=e.data.data,console.log(t.crdetails),t.templateId=t.crdetails.templateId,console.log(t.templateId),t.crGoods=t.crdetails.templateDetailList,console.log(t.crdetails.createTime.toString().length),10===t.crdetails.createTime.toString().length)var s=new Date(1e3*t.crdetails.createTime);else s=new Date(t.crdetails.createTime);if(t.crTimes(s),10===t.crdetails.updateTime.toString().length)var i=new Date(1e3*t.crdetails.updateTime);else i=new Date(t.crdetails.updateTime);t.upTimes(i)}).catch(function(t){console.log(t)})},createRE:function(){var t=this;o.a.get(us.sellerUrl+"/sell/seller/template/create_replenish?token="+this.token+"&templateId="+this.templateId+"&groupNo="+this.groupNo).then(function(e){console.log(e),"成功"===e.data.msg?(n.a.toast("创建补货单成功!",{duration:1e3}),t.$router.push({name:"templates"})):n.a.topTips(e.data.msg)}).catch(function(t){console.log(t),n.a.topTips("创建补货单失败!")})},delCR:function(){var t=this;o.a.get(us.sellerUrl+"/sell/seller/template/delete?token="+this.token+"&templateId="+this.templateId).then(function(e){console.log(e),"成功"===e.data.msg?(n.a.toast("删除成功!",{duration:1e3}),t.$router.go(-1)):n.a.alert(""+e.data.msg)}).catch(function(t){n.a.alert("删除失败!"),console.log(t)})},crTimes:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.createTime=e+"-"+s+"-"+i+" "+a+":"+o+":"+l},upTimes:function(t){var e=t.getFullYear(),s=t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),a=t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.upTime=e+"-"+s+"-"+i+" "+a+":"+o+":"+l},showdialog:function(t,e){this.dialogshow=!0},hidedialog:function(){this.dialogshow=!1}},components:{carcontrol:ut}},hs={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"categorydetail"}},[s("div",{staticClass:"weui-form-preview"},[s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("创建时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.upTime))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("更新时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.upTime))])])])]),t._v(" "),s("div",{staticClass:"weui-panel__hd hd"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"domitorylist"},t._l(this.crGoods,function(e,i){return s("div",{key:i,staticClass:"weui-cell weui-cell_access"},[s("div",{staticClass:"weui-cell__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.productName))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("商品数量:"+t._s(e.productQuantity))])])])})),t._v(" "),s("div",{staticClass:"weui-form-preview__ft",staticStyle:{background:"#0bb20c"}},[s("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary",on:{click:t.showdialog}},[s("span",{staticStyle:{color:"#fff"}},[t._v("创建补货单")])]),t._v(" "),s("a",{staticClass:"weui-form-preview__btn weui-btn_warn",attrs:{href:"javascript:;"},on:{click:t.delCR}},[s("span",{staticStyle:{color:"#fff"}},[t._v("删除模板")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogshow,expression:"dialogshow"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[s("div",{staticClass:"weui-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupNo,expression:"groupNo"}],staticClass:"weui-input",attrs:{placeholder:"请输入寝室号"},domProps:{value:t.groupNo},on:{input:function(e){e.target.composing||(t.groupNo=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.createRE}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hidedialog}},[t._v("取消")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("创建补货单")])])}]};var ps=s("VU/8")(_s,hs,!1,function(t){s("GtaM")},null,null).exports,vs=s("FhoZ");vs=vs.build;var gs={data:function(){return{token:"",dorDE:[],createTime:"",updateTime:"",payStatus:"",orderStatus:""}},created:function(){if(this.dorDE=this.$route.params.dorDE,console.log(this.dorDE),10===this.dorDE.createTime.toString().length)var t=new Date(1e3*this.dorDE.createTime);else t=new Date(this.dorDE.createTime);if(this.createTime=this.times(t),10===this.dorDE.updateTime.toString().length)t=new Date(1e3*this.dorDE.updateTime);else t=new Date(this.dorDE.updateTime);this.updateTime=this.times(t),0===this.dorDE.orderStatus?this.orderStatus="新订单":1===this.dorDE.orderStatus?this.orderStatus="已完结":this.ordeStatus="已取消",0===this.dorDE.payStatus?this.payStatus="未支付":this.payStatus="已支付"},methods:{times:function(t){return 10===t.toString().length&&(t*=1e3),t.getFullYear()+"-"+(t.getMonth()+1<0?+(t.getMonth()+1):t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}}},ms={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"orderdetail"}},[s("div",{staticClass:"weui-form-preview"},[s("div",{staticClass:"weui-form-preview__bd"},[s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("寝室号")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.dorDE.groupNo))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("创建时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.createTime))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("更新时间")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.updateTime))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("订单金额")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.dorDE.orderAmount))])]),t._v(" "),s("div",{staticClass:"weui-form-preview__item"},[s("label",{staticClass:"weui-form-preview__label"},[t._v("状态")]),t._v(" "),s("span",{staticClass:"weui-form-preview__value"},[t._v(t._s(this.orderStatus)+" "+t._s(this.payStatus))])])])]),t._v(" "),s("div",{staticClass:"weui-panel__hd hd"},[t._v("商品列表")]),t._v(" "),s("div",{staticClass:"page__bd page__bd_spacing"},t._l(this.dorDE.orderDetailVOList,function(e,i){return s("div",{key:i,staticClass:"weui-panel weui-panel_access goodslist"},[s("div",{staticClass:"weui-panel__bd"},[s("a",{staticClass:"weui-media-box weui-media-box_appmsg",attrs:{href:"javascript:void(0);"}},[s("div",{staticClass:"weui-media-box__hd"},[s("img",{staticClass:"weui-media-box__thumb",attrs:{src:e.productIcon,alt:""}})]),t._v(" "),s("div",{staticClass:"weui-media-box__bd"},[s("h4",{staticClass:"weui-media-box__title"},[t._v(t._s(e.productName))]),t._v(" "),s("p",{staticClass:"weui-media-box__desc"},[t._v("单价:￥"+t._s(e.productPrice))])]),t._v(" "),s("a",{staticClass:"weui-cell weui-cell_access",attrs:{href:"javascript:;"}},[s("div",{staticClass:"weui-cell__bd"},[t._v("x"+t._s(e.productQuantity)+"\n            ")])])])])])}))])},staticRenderFns:[]};var fs=s("VU/8")(gs,ms,!1,function(t){s("qWI2")},null,null).exports,ws=s("FhoZ");ws=ws.build;var Cs={data:function(){return{token:"",groupNo:"",pic:""}},created:function(){console.log("pic"),this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo"),this.pic=ws.sellerUrl+"/sell/seller/qrcode/create?token="+this.token+"&groupNo="+this.groupNo},methods:{getPic:function(){var t=this;o.a.get(ws.sellerUrl+"/sell/seller/qrcode/create?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.pic=e.data}).catch(function(t){console.log(t)})}}},bs={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{position:"relative"},attrs:{id:"pic"}},[e("div",{attrs:{id:"total"}},[e("div",{staticStyle:{"margin-left":"35%","margin-top":"10px"},attrs:{id:"picTitle"}},[this._v(this._s(this.groupNo)+"二维码")]),this._v(" "),e("div",{staticStyle:{position:"absolute","margin-left":"10%"},attrs:{id:"dorPic"}},[e("img",{attrs:{src:this.pic}})])])])},staticRenderFns:[]};var ks=s("VU/8")(Cs,bs,!1,function(t){s("m3z8")},null,null).exports,ys=s("FhoZ");ys=ys.build;new FormData;var xs={data:function(){return{openid:"",schoolNo:"1",rank:0,username:"",password:"",name:"",phone:""}},created:function(){this.openid=this.GetUrlParam("openid"),this.setCookie("openid",this.openid,1),this.schoolNo=this.GetUrlParam("schoolNo"),this.rank=this.GetUrlParam("rank");var t=this.GetUrlParam("headImgUrl");this.setCookie("headImg",t,1)},methods:{register:function(){var t=this,e=n.a.loading("注册中");o.a.post(ys.sellerUrl+"/sell/seller/register",w.a.stringify({username:this.username,password:this.password,openid:this.openid,name:this.name,phone:this.phone,schoolNo:this.schoolNo,rank:this.rank}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){console.log(s.data),t.setCookie("token",s.data.data.token,1),t.setCookie("username",t.username,1),t.setCookie("password",t.password,1),console.log(t.password),console.log(t.getCookie("token")),e.hide(),n.a.toast("注册成功",{duration:3e3}),t.$router.push({name:"home"})}).catch(function(t){console.log(t),e.hide(),n.a.alert("注册失败")})},GetUrlParam:function(t){var e=document.location.toString().split("?");if(e.length>1){for(var s,i=e[1].split("&"),a=0;a<i.length;a++)if(null!=(s=i[a].split("="))&&s[0]==t)return s[1];return""}return""}},mounted:function(){}},Ns={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"register"}},[s("div",{staticClass:"weui-cells__title"},[t._v("基本信息")]),t._v(" "),s("div",{staticClass:"weui-cells weui-cells_form"},[s("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"weui-input",attrs:{placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"weui-input",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"weui-input",attrs:{type:"text",pattern:"[0-9]*",placeholder:"请输入姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-cell"},[t._m(3),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入电话"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])]),t._v(" "),s("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:t.register}},[t._v("注册")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("用户名")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("姓名")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("电话")])])}]};var Ts=s("VU/8")(xs,Ns,!1,function(t){s("rgdh")},null,null).exports,Ds=s("FhoZ");Ds=Ds.build;var Ss={data:function(){return{goods:[],listHeight:[],scrollY:0,selectedFood:{},dromNum:"",token:"",groupNo:"",amount:0,templateName:"",dialogshow:!1}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(!s||this.scrollY>=e&&this.scrollY<s)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},mounted:function(){},created:function(){var t=this;this.token=this.getCookie("token"),this.groupNo=this.getCookie("groupNo"),o.a.get(Ds.sellerUrl+"/sell/seller/replenish/productlist?token="+this.token+"&groupNo="+this.groupNo).then(function(e){console.log(e),t.dromNum=e.data.msg,t.goods=e.data.data,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})}).catch(function(t){console.log(t)})},methods:{addFood:function(t){this._drop(t)},selectMenu:function(t,e){if(e._constructed){var s=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook")[t];this.foodsScroll.scrollToElement(s,300)}},selectFood:function(t,e){e._constructed&&(this.selectedFood=t)},_initScroll:function(){var t=this;this.meunScroll=new Pe.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new Pe.a(this.$refs.foodsWrapper,{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(e){e.y<=0&&(t.scrollY=Math.abs(Math.round(e.y)))})},_calculateHeight:function(){var t=this.$refs.foodsWrapper.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e);for(var s=0;s<t.length;s++){e+=t[s].clientHeight,this.listHeight.push(e)}},_drop:function(t){var e=this;this.$nextTick(function(){e.$refs.shopcart.drop(t)})},totalP:function(){this.amount=0;for(var t=0;t<this.goods.length;t++)for(var e=0;e<this.goods[t].foods.length;e++)this.goods[t].foods[e].count>0&&(this.amount+=this.goods[t].foods[e].price*this.goods[t].foods[e].count);return this.amount.toFixed(2)},setFoods:function(){this.amount=0;for(var t="[",e=0;e<this.goods.length;e++)for(var s=0;s<this.goods[e].foods.length;s++){if(this.goods[e].foods[s].count>0)t+='{productId:"'+this.goods[e].foods[s].id+'",productQuantity:'+this.goods[e].foods[s].count+"},"}t=t.substring(0,t.length-1),t+="]",console.log(t);var i={token:this.token,items:t,templateName:this.templateName};return console.log(i),w.a.stringify(i)},createRE:function(){var t=this,e=this.setFoods();this.totalP(),console.log(e),o.a.post(Ds.sellerUrl+"/sell/seller/template/create",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),"成功"===e.data.msg?n.a.toast("创建成功",{duration:3e3}):n.a.alert(""+e.data.msg),t.dialogshow=!1,t.$router.push({name:"templates"})}).catch(function(e){console.log(e),n.a.alert("创建失败!"),t.dialogshow=!1})},showdialog:function(t,e){this.dialogshow=!0},hidedialog:function(){this.dialogshow=!1}},components:{Cartcontrol:ut}},$s={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"addtemplates"},[s("div",{staticClass:"goods"},[s("div",{ref:"menuWrapper",staticClass:"menu-wrapper menu-list-hook"},[s("ul",t._l(t.goods,function(e,i){return s("li",{key:i,staticClass:"menu-item",class:{current:t.currentIndex===i},on:{click:function(e){t.selectMenu(i,e)}}},[s("span",{staticClass:"text border-1px"},[t._v("\n                        "+t._s(e.name)+"\n                    ")])])}))]),t._v(" "),s("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[s("ul",t._l(t.goods,function(e,i){return s("li",{key:i,staticClass:"food-list food-list-hook"},[s("h1",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("ul",t._l(e.foods,function(e,i){return e.quantity>0?s("li",{key:i,staticClass:"food-item border-1px",on:{click:function(s){t.selectFood(e,s)}}},[s("div",{staticClass:"icon"},[s("img",{attrs:{width:"68",height:"68",src:e.icon}})]),t._v(" "),s("div",{staticClass:"content"},[s("h2",{staticClass:"name",staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"price"},[s("span",{staticClass:"now",staticStyle:{"margin-left":"10px"}},[t._v("￥"+t._s(e.price)+"元")])]),t._v(" "),e.sales>0?s("div",{staticClass:"sales"},[s("span",{staticClass:"sales",staticStyle:{"margin-left":"10px"}},[t._v("商品销售量:"+t._s(e.sales))])]):t._e(),t._v(" "),s("div",{staticClass:"extra"},[s("span",{staticClass:"count",staticStyle:{"margin-left":"10px"}},[t._v("仓库库存:"+t._s(e.quantity))])]),t._v(" "),e.stock>0?s("div",{staticClass:"stock",staticStyle:{"margin-top":"5px"}},[s("span",{staticClass:"stock",staticStyle:{"margin-left":"10px"}},[t._v("寝室库存:"+t._s(e.stock))])]):t._e(),t._v(" "),e.stockout>0?s("div",{staticClass:"stockout",staticStyle:{"margin-top":"5px"}},[s("span",{staticClass:"stockout",staticStyle:{"margin-left":"10px"}},[t._v("寝室回收数量:"+t._s(e.stockout))])]):t._e()]),t._v(" "),s("div",{staticClass:"cartcontrol-wrapper"},[s("cartcontrol",{attrs:{food:e}})],1)]):t._e()}))])}))])]),t._v(" "),s("div",{staticClass:"weui-tabbar"},[s("div",{staticClass:"weui-form-preview__ft",staticStyle:{background:"#0bb20c",width:"100%"},on:{click:t.showdialog}},[t._m(0)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogshow,expression:"dialogshow"}],staticClass:"js_dialog"},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[t._m(1),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[s("div",{staticClass:"weui-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.templateName,expression:"templateName"}],staticClass:"weui-input",attrs:{placeholder:"请输入模板名称"},domProps:{value:t.templateName},on:{input:function(e){e.target.composing||(t.templateName=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t.createRE}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t.hidedialog}},[t._v("取消")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"weui-form-preview__btn weui-form-preview__btn_primary"},[e("span",{staticStyle:{color:"#fff"}},[this._v("创建模板")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-dialog__hd"},[e("strong",{staticClass:"weui-dialog__title"},[this._v("添加模板")])])}]};var Es=s("VU/8")(Ss,$s,!1,function(t){s("zFFU")},null,null).exports;i.a.use(v.a);var Fs=new v.a({routes:[{path:"/orderdetail2",name:"orderdetail2",component:fs},{path:"/dorgroup",name:"dorgroup",component:ds},{path:"/dorGoodsList",name:"dorGoodsList",component:ls},{path:"/templatesDetail",name:"templatesDetail",component:ps},{path:"/templates",name:"templates",component:Je},{path:"/dorstatistic",name:"dorstatistic",component:qe},{path:"/orderdetail1",name:"orderdetail1",component:Jt},{path:"/pic",name:"pic",component:ks},{path:"/dorReplenishList",name:"dorReplenishList",component:Ze},{path:"/createTemplate",name:"createTemplate",component:je},{path:"/authorize",name:"authorize",component:jt},{path:"/home",name:"home",component:N},{path:"/goods",name:"goods",component:U},{path:"/",name:"login",component:Pt},{path:"/adddomitory",name:"adddomitory",component:he},{path:"/domitory",name:"domitory",component:ne},{path:"/addgoods",name:"addgoods",component:V},{path:"/order",name:"order",component:tt},{path:"/orderdetail",name:"orderdetail",component:at},{path:"/domitorydetail",name:"domitorydetail",component:me},{path:"/goodsclass",name:"goodsclass",component:wt},{path:"/applydomitory",name:"applydomitory",component:be},{path:"/statistica",name:"statistica",component:Ne},{path:"/goodslist",name:"goodslist",component:yt},{path:"/goodsdetail",name:"goodsdetail",component:St},{path:"/domitoryorder",name:"domitoryorder",component:$e},{path:"/domitorydemo",name:"domitorydemo",component:Ie},{path:"/replenishdetail",name:"replenishdetail",component:vt},{path:"/dispatchdetail",name:"dispatchdetail",component:rt},{path:"/personal",name:"personal",component:Qt},{path:"/payorder",name:"payorder",component:Wt},{path:"/register",name:"register",component:Ts},{path:"/addtemplates",name:"addtemplates",component:Es}]});Fs.beforeEach(function(t,e,s){function i(t){var e=window.document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null}console.log("openid:"+i("openid")),console.log("token:"+i("token")),s()});var Us=Fs,Is=(s("TNmv"),s("Qdfp"),s("Rvnx"),s("pXgr"),s("yt7g")),Ps=s.n(Is);i.a.config.productionTip=!1,i.a.use(Ps.a),new i.a({el:"#app",router:Us,components:{App:p},template:"<App/>"})},NzCf:function(t,e){},PKze:function(t,e){},Qdfp:function(t,e){},Rvnx:function(t,e){},SFPg:function(t,e){},TNmv:function(t,e){},TVlA:function(t,e){},VRQ4:function(t,e){},WxYv:function(t,e){},ZCKV:function(t,e){},ZJ4Y:function(t,e){},bHAi:function(t,e){},f2SA:function(t,e){},"h/kE":function(t,e){},hOBY:function(t,e){},j5oB:function(t,e){},k1Uq:function(t,e){},lbso:function(t,e){},m3z8:function(t,e){},pHaT:function(t,e){},pXgr:function(t,e){},qWI2:function(t,e){},rgdh:function(t,e){},x4SG:function(t,e){},yPFb:function(t,e){},ybKA:function(t,e){},yeEp:function(t,e){},yt7g:function(t,e){e.install=function(t,e){t.prototype.getCookie=function(t){var e=window.document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null},t.prototype.setCookie=function(t,e,s){var i=new Date;i.setTime(i.getTime()+864e5*s),window.document.cookie=t+"="+e+";path=/;expires="+i.toGMTString()},t.prototype.delCookie=function(t){},t.prototype.getLocalTime=function(t){return new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," ")}}},zFFU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6c8b031bfb4ba0ebc3b3.js.map